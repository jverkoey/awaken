SECTION "ROM Bank 03", ROMX[$4000], BANK[$03]

    db   $03, $19, $03, $18, $03, $03, $03, $07
    db   $18, $03, $03, $03, $03, $06, $04, $06
    db   $04, $04, $04, $03, $07, $06, $06, $06
    db   $06, $06, $06, $06, $06, $06, $15, $06
    db   $06, $06, $06, $06, $03, $03, $03, $06
    db   $19, $04, $04, $15, $07, $03, $03, $03
    db   $03, $03, $03, $03, $03, $03, $03, $03
    db   $03, $03, $03, $03, $03, $03, $05, $05
    db   $05, $06, $18, $15, $15, $15, $15, $15
    db   $15, $15, $03, $03, $04, $04, $04, $04
    db   $06, $04, $04, $04, $04, $04, $04, $04
    db   $04, $04, $04, $04, $04, $05, $05, $07
    db   $05, $19, $05, $05, $18, $05, $15, $05
    db   $15, $18, $05, $18, $05, $05, $06, $19
    db   $06, $06, $06, $06, $18, $18, $18, $06
    db   $06, $06, $06, $06, $06, $06, $06, $18
    db   $06, $06, $06, $06, $06, $06, $06, $06
    db   $06, $06, $06, $06, $06, $06, $06, $19
    db   $06, $06, $06, $06, $07, $06, $19, $19
    db   $07, $07, $07, $07, $07, $19, $07, $07
    db   $07, $07, $07, $07, $07, $07, $07, $07
    db   $07, $07, $19, $19, $19, $07, $07, $07
    db   $07, $07, $15, $07, $07, $07, $07, $07
    db   $07, $18, $18, $07, $18, $18, $18, $18
    db   $18, $18, $18, $18, $18, $15, $15, $18
    db   $18, $18, $18, $18, $15, $19, $18, $19
    db   $18, $18, $18, $18, $19, $19, $19, $19
    db   $19, $19, $19, $19, $19, $19, $19, $19
    db   $15, $15, $15, $15, $15, $06, $15, $15
    db   $17, $42, $C2, $D2, $C2, $C2, $D2, $C2
    db   $C2, $C3, $12, $42, $12, $42, $12, $12
    db   $92, $12, $18, $12, $11, $12, $02, $02
    db   $02, $12, $02, $12, $12, $11, $02, $12
    db   $12, $12, $02, $42, $92, $12, $E2, $E2
    db   $02, $12, $02, $02, $41, $12, $B1, $B1
    db   $B1, $B1, $B1, $B2, $B2, $B1, $B2, $B2
    db   $B2, $B1, $92, $B2, $B1, $B2, $B1, $82
    db   $92, $84, $92, $82, $C0, $C0, $C2, $82
    db   $82, $82, $82, $82, $82, $41, $82, $82
    db   $82, $12, $02, $42, $42, $C2, $02, $02
    db   $02, $42, $08, $48, $00, $91, $02, $00
    db   $00, $02, $C2, $08, $02, $C0, $00, $82
    db   $02, $C0, $C2, $92, $82, $92, $12, $C1
    db   $92, $92, $92, $92, $92, $93, $92, $92
    db   $92, $92, $92, $52, $92, $00, $42, $02
    db   $82, $92, $00, $42, $C2, $D1, $D2, $D1
    db   $12, $84, $0C, $C2, $C2, $92, $92, $08
    db   $12, $12, $13, $14, $12, $80, $92, $92
    db   $C0, $D2, $12, $C0, $D2, $12, $94, $C0
    db   $12, $12, $12, $14, $C4, $C4, $C4, $C2
    db   $8A, $92, $02, $12, $12, $12, $92, $12
    db   $B2, $02, $82, $C0, $82, $92, $82, $92
    db   $94, $95, $12, $13, $12, $12, $13, $16
    db   $52, $C0, $D2, $D2, $94, $98, $12, $12
    db   $D0, $D2, $C1, $88, $02, $52, $85, $84
    db   $C2, $82, $82, $82, $D2, $D2, $D2, $82
    db   $02, $C2, $C8, $42, $48, $C4, $C2, $C2
    db   $C2, $D3, $D2, $42, $12, $13, $D2, $50
    db   $C0, $00, $00, $00, $01, $01, $01, $00
    db   $06, $00, $00, $00, $00, $00, $00, $00
    db   $00, $80, $00, $08, $00, $01, $00, $00
    db   $03, $03, $00, $00, $00, $00, $10, $02
    db   $00, $00, $00, $00, $00, $00, $00, $80
    db   $80, $82, $00, $00, $80, $00, $80, $1D
    db   $1D, $1D, $1D, $1D, $01, $1D, $1D, $1D
    db   $1D, $1D, $1D, $9D, $1D, $1D, $1D, $1D
    db   $98, $98, $98, $98, $98, $98, $98, $00
    db   $84, $84, $84, $84, $98, $98, $00, $98
    db   $98, $98, $00, $00, $00, $00, $80, $00
    db   $00, $00, $00, $88, $08, $00, $80, $80
    db   $80, $A8, $80, $00, $00, $00, $00, $00
    db   $00, $80, $00, $00, $80, $98, $00, $80
    db   $00, $00, $98, $98, $98, $98, $98, $98
    db   $98, $98, $80, $98, $00, $98, $08, $10
    db   $00, $80, $98, $00, $20, $00, $00, $00
    db   $38, $00, $88, $08, $04, $04, $84, $84
    db   $88, $00, $00, $00, $80, $00, $00, $80
    db   $80, $00, $00, $00, $00, $00, $00, $A4
    db   $00, $00, $00, $00, $00, $2C, $2C, $2C
    db   $30, $A4, $80, $00, $00, $00, $00, $80
    db   $00, $1D, $00, $98, $00, $98, $98, $B4
    db   $98, $98, $98, $00, $00, $00, $00, $00
    db   $80, $00, $00, $18, $18, $B4, $B4, $06
    db   $00, $34, $98, $00, $80, $00, $00, $98
    db   $98, $00, $98, $98, $98, $98, $00, $18
    db   $BD, $80, $2D, $2D, $00, $0A, $00, $00
    db   $00, $00, $00, $00, $00, $00, $84, $38
    db   $00, $00, $00, $00, $00, $02, $00, $00
    db   $00, $00, $00, $00, $00, $0D, $01, $0D
    db   $01, $01, $08, $13, $13, $13, $00, $01
    db   $06, $2C, $2C, $0C, $00, $2A, $00, $00
    db   $00, $2A, $2F, $0B, $0C, $0E, $01, $01
    db   $06, $06, $09, $04, $01, $00, $0E, $01
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $0E
    db   $00, $00, $00, $20, $13, $00, $00, $00
    db   $0B, $0B, $30, $0E, $18, $1D, $1A, $19
    db   $1C, $10, $11, $12, $00, $1F, $1E, $00
    db   $1B, $22, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $21, $00, $29
    db   $00, $29, $00, $00, $13, $00, $00, $00
    db   $00, $00, $13, $15, $14, $01, $01, $01
    db   $01, $13, $24, $2D, $2E, $13, $25, $23
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $02, $00, $00, $00, $00
    db   $00, $00, $00, $00, $0F, $2B, $00, $00
    db   $00, $13, $00, $00, $00, $00, $00, $00
    db   $00, $01, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $28, $00, $13
    db   $00, $26, $00, $00, $12, $12, $0A, $12
    db   $12, $0A, $02, $02, $02, $08, $12, $08
    db   $12, $08, $00, $40, $11, $11, $11, $00
    db   $08, $12, $12, $12, $08, $11, $08, $08
    db   $08, $10, $08, $08, $08, $08, $12, $08
    db   $08, $08, $08, $52, $08, $08, $0A, $12
    db   $08, $0A, $0A, $13, $0A, $0A, $0A, $0A
    db   $0A, $0A, $08, $0A, $0A, $08, $0A, $0A
    db   $1B, $1A, $02, $02, $02, $02, $02, $02
    db   $02, $42, $02, $02, $02, $02, $02, $02
    db   $12, $00, $02, $02, $30, $08, $02, $02
    db   $02, $08, $08, $08, $12, $D0, $90, $90
    db   $D0, $90, $D4, $84, $D4, $02, $D0, $90
    db   $02, $80, $02, $42, $12, $02, $02, $02
    db   $02, $43, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $20, $00
    db   $02, $02, $02, $40, $00, $84, $40, $00
    db   $00, $00, $02, $84, $C4, $94, $00, $00
    db   $00, $00, $84, $00, $00, $00, $C4, $10
    db   $00, $00, $00, $00, $00, $10, $00, $00
    db   $00, $42, $02, $00, $00, $00, $00, $02
    db   $02, $02, $02, $42, $42, $00, $10, $10
    db   $08, $18, $00, $13, $00, $12, $00, $02
    db   $02, $02, $02, $02, $02, $00, $01, $00
    db   $84, $11, $84, $00, $00, $03, $02, $02
    db   $02, $02, $02, $02, $02, $02, $02, $02
    db   $02, $02, $02, $02, $00, $00, $00, $00
    db   $00, $03, $02, $42, $42, $02, $02, $02
    db   $02, $02, $02, $12, $02, $02, $02, $02
    db   $00, $02, $00, $02, $02, $01, $01, $01
    db   $00, $00, $01, $02, $01, $02, $03, $03
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $00, $00, $02, $02, $02, $02, $03, $03
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $00, $00, $02, $02, $02, $02, $01, $03
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $00, $00, $02, $01, $02, $01, $01, $03
    db   $02, $00, $00, $00, $00, $00, $03, $03
    db   $00, $00, $00, $01, $00, $01, $00, $00
    db   $01, $00, $00, $00, $00, $00, $00, $03
    db   $00, $00, $00, $01, $00, $01, $00, $00
    db   $01, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $02, $03, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $01, $03, $01, $02, $03, $01
    db   $01, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $03, $01, $02, $04, $00, $00
    db   $01, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $01, $01, $01, $01, $03
    db   $01, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $01, $03, $01, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $01, $01, $03, $01, $01, $01
    db   $03, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $02, $01, $02, $02, $02, $03
    db   $03, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $02, $02, $02, $04, $00, $01
    db   $02, $00, $00, $00, $00, $01, $02, $02
    db   $00, $00, $00, $00, $03, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $02, $00, $00, $00
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $02, $02, $02, $02, $02, $00, $02
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $01, $02, $02, $02, $02, $04, $00, $02
    db   $02, $00, $00, $00, $00, $00, $01, $01
    db   $01, $02, $01, $00, $00, $00, $00, $01
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $01
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $01
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $00, $00, $02, $00, $00, $02
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $00, $00, $00, $00, $00, $02
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $00, $02, $00, $00, $01
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $00, $00, $00, $00, $00, $01
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $00, $00, $02, $00, $00, $00
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $02, $02, $00, $00, $02
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $00, $00, $00, $00, $00, $02
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $00, $00, $00, $00, $02
    db   $01, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $02, $01, $02, $00, $01
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $02, $01, $02, $00, $01
    db   $02, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $01, $00, $00, $00
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $01, $02, $01, $00, $03
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $01, $00, $00, $00, $01
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $02, $01, $02, $00, $01
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $02, $01, $02, $00, $01
    db   $02, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $01
    db   $01, $01, $00, $02, $00, $02, $00, $03
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $00, $00, $02, $02, $02, $02, $00, $00
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $00, $00, $02, $00, $00, $05, $02, $03
    db   $03, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $05, $00, $00
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $02, $01, $04, $00, $01
    db   $02, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $02, $04, $00, $02
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $01, $02, $04, $00, $03
    db   $02, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $02, $02, $01, $01, $00, $03
    db   $02, $00, $00, $00, $00, $00, $01, $02
    db   $40, $00, $00, $00, $00, $00, $02, $01
    db   $40, $00, $00, $00, $00, $00, $04, $02
    db   $40, $00, $00, $00, $00, $00, $08, $04
    db   $40, $00, $00, $00, $00, $00, $10, $08
    db   $40, $00, $00, $00, $00, $00, $01, $04
    db   $40, $00, $00, $00, $00, $00, $FF, $02
    db   $40, $00, $00, $00, $00, $00, $01, $04
    db   $40, $00, $00, $00, $00, $00, $FF, $18
    db   $FE, $02, $FD, $00, $00, $00, $FF, $FD
    db   $FE, $00, $00, $00, $00, $00, $01, $04
    db   $FE, $00, $00, $00, $00, $00, $FF, $02
    db   $40, $00, $00, $00, $00, $00, $01, $02
    db   $40, $00, $00, $00, $00, $00, $01, $02
    db   $40, $00, $00, $00, $00, $00, $01, $02
    db   $40, $00, $00, $00, $00, $00, $01, $02
    db   $40, $00, $00, $00, $00, $01, $02, $02
    db   $04, $04, $04, $04, $04, $04, $04, $04
    db   $04, $04, $04, $04, $04, $0C, $3F, $08
    db   $08, $08, $0C, $00, $00, $04, $06, $08
    db   $0A, $04, $14, $0A, $18, $04, $02, $08
    db   $08, $02, $04, $FF, $00, $02, $04, $02
    db   $03, $01, $01, $08, $06, $02, $04, $04
    db   $08, $08, $18, $08, $04, $08, $10, $08
    db   $10, $08, $08, $04, $08, $08, $08, $08
    db   $08, $08, $08, $0C, $00, $00, $08, $08
    db   $08, $0C, $0C, $14, $10, $20, $08, $08
    db   $04, $04, $04, $04, $04, $00, $14, $08
    db   $04, $08, $04, $04, $08, $08, $04, $02
    db   $06, $01, $03, $03, $03, $0D, $08, $0A
    db   $02, $07, $0B, $00, $04, $00, $08, $04
    db   $0E, $0E, $0E, $0E, $0E, $00, $03, $03
    db   $03, $03, $03, $03, $03, $03, $03, $03
    db   $02, $00, $00, $02, $00, $00, $00, $00
    db   $06, $06, $0D, $0E, $00, $09, $03, $06

toc_03_48B0:
    call toc_01_38CF
    ld   a, [$FFF6]
    ld   hl, $C3E0
    add  hl, bc
    ld   [hl], a
    ld   hl, $C460
    add  hl, bc
    ld   [hl], $FF
.toc_03_48C0:
    ld   hl, $C3A0
    add  hl, bc
    ld   e, [hl]
    ld   d, b
    ld   hl, $40E9
    add  hl, de
    ld   a, [hl]
    ld   hl, $C340
    add  hl, bc
    ld   [hl], a
    ld   hl, $41D2
    add  hl, de
    ld   a, [hl]
    ld   hl, $C350
    add  hl, bc
    ld   [hl], a
    call toc_03_48EA
    ld   hl, $43A4
    add  hl, de
    ld   a, [hl]
    ld   hl, $C430
    add  hl, bc
    ld   [hl], a
    jp   toc_01_3B65

toc_03_48EA:
    push de
    ld   hl, $42BB
    add  hl, de
    ld   e, [hl]
    ld   hl, $C4D0
    add  hl, bc
    ld   [hl], e
    ld   d, b
    ld   hl, $481D
    add  hl, de
    ld   a, [hl]
    ld   hl, $C360
    add  hl, bc
    ld   [hl], a
    pop  de
    ret


toc_03_4902:
    assign [$C18F], $01
    jp   toc_01_3F7A.else_01_3FB7

JumpTable_490A_03:
    ld   hl, $C430
    add  hl, bc
.JumpTable_490E_03:
    ld   a, [hl]
    and  %10000000
    jr   z, .else_03_496D

    ld   a, [$FFF8]
    and  %00110000
    jr   z, .else_03_491C

    jp   toc_01_3F7A.else_01_3FB7

.else_03_491C:
    ifNe [$FFEB], $5F, .else_03_4945

    ifEq [$FFF6], $95, .else_03_4945

    cp   $92
    jr   z, .else_03_4945

    cp   $84
    jr   z, .else_03_4937

    ld   a, [$D984]
    and  %00110000
    jr   z, toc_03_4902

.else_03_4937:
    ld   a, [$D992]
    and  %00110000
    jr   z, toc_03_4902

    ld   a, [$D995]
    and  %00110000
    jr   z, toc_03_4902

.else_03_4945:
    ifNotZero [$DBA5], .else_03_495D

    _ifZero [$D478], .else_03_4960

    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %00000100
    jr   z, .else_03_495D

    ld   [$C1CF], a
.else_03_495D:
    call toc_01_27D2
.else_03_4960:
    clear [$C1BD]
    inc  a
    ld   [$C1BE], a
    assign [$C165], $20
.else_03_496D:
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $05
    ld   a, [$FFEB]
    jumptable
    dw JumpTable_4D09_03 ; 00
    dw JumpTable_4D09_03 ; 01
    dw JumpTable_4D09_03 ; 02
    dw JumpTable_4D09_03 ; 03
    dw JumpTable_4D09_03 ; 04
    dw JumpTable_4D09_03 ; 05
    dw JumpTable_520D_03 ; 06
    dw toc_03_5115.JumpTable_5123_03 ; 07
    dw JumpTable_4D09_03 ; 08
    dw JumpTable_5067_03 ; 09
    dw JumpTable_4D09_03 ; 0A
    dw JumpTable_5067_03 ; 0B
    dw JumpTable_4D09_03 ; 0C
    dw JumpTable_4D09_03 ; 0D
    dw JumpTable_4D19_03 ; 0E
    dw JumpTable_4D09_03 ; 0F
    dw JumpTable_506D_03 ; 10
    dw JumpTable_506D_03 ; 11
    dw JumpTable_506D_03 ; 12
    dw JumpTable_5A34_03 ; 13
    dw JumpTable_4F99_03 ; 14
    dw JumpTable_4F5F_03 ; 15
    dw JumpTable_4F85_03 ; 16
    dw JumpTable_4F7B_03 ; 17
    dw JumpTable_4D09_03 ; 18
    dw JumpTable_4D09_03 ; 19
    dw JumpTable_4D09_03 ; 1A
    dw JumpTable_4B77_03 ; 1B
    dw JumpTable_4D09_03 ; 1C
    dw JumpTable_4F8E_03 ; 1D
    dw JumpTable_3B8D_00 ; 1E
    dw JumpTable_3B8D_00 ; 1F
    dw JumpTable_4D09_03 ; 20
    dw JumpTable_4F8E_03 ; 21
    dw JumpTable_4D09_03 ; 22
    dw JumpTable_3B8D_00 ; 23
    dw JumpTable_4D09_03 ; 24
    dw JumpTable_4D1E_03 ; 25
    dw JumpTable_4D1E_03 ; 26
    dw JumpTable_4D09_03 ; 27
    dw JumpTable_4D09_03 ; 28
    dw JumpTable_3DDB_00 ; 29
    dw JumpTable_4D09_03 ; 2A
    dw JumpTable_4D09_03 ; 2B
    dw JumpTable_4D09_03 ; 2C
    dw toc_03_4FCA.JumpTable_4FD6_03 ; 2D
    dw JumpTable_5032_03 ; 2E
    dw JumpTable_5032_03 ; 2F
    dw JumpTable_4FE5_03 ; 30
    dw JumpTable_4C7E_03 ; 31
    dw JumpTable_5032_03 ; 32
    dw JumpTable_5032_03 ; 33
    dw JumpTable_5032_03 ; 34
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 35
    dw JumpTable_5032_03 ; 36
    dw JumpTable_5032_03 ; 37
    dw JumpTable_5032_03 ; 38
    dw JumpTable_5059_03 ; 39
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 3A
    dw toc_03_4FCA.JumpTable_4FD6_03 ; 3B
    dw toc_03_4FCA.JumpTable_4FD6_03 ; 3C
    dw JumpTable_4FB2_03 ; 3D
    dw JumpTable_4C86_03 ; 3E
    dw JumpTable_4CEC_03 ; 3F
    dw JumpTable_4CFF_03 ; 40
    dw JumpTable_4C79_03 ; 41
    dw JumpTable_4D09_03 ; 42
    dw JumpTable_5059_03 ; 43
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 44
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 45
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 46
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 47
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 48
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 49
    dw JumpTable_4D09_03 ; 4A
    dw JumpTable_4D09_03 ; 4B
    dw JumpTable_4D09_03 ; 4C
    dw JumpTable_4D00_03 ; 4D
    dw JumpTable_4D09_03 ; 4E
    dw JumpTable_4CEC_03.JumpTable_4CF2_03 ; 4F
    dw JumpTable_4D09_03 ; 50
    dw JumpTable_4D09_03 ; 51
    dw JumpTable_4D09_03 ; 52
    dw JumpTable_4D09_03 ; 53
    dw JumpTable_4CEC_03.JumpTable_4CF2_03 ; 54
    dw JumpTable_4D09_03 ; 55
    dw JumpTable_4D09_03 ; 56
    dw JumpTable_4D09_03 ; 57
    dw JumpTable_4D09_03 ; 58
    dw JumpTable_3DE6_00 ; 59
    dw JumpTable_3DF1_00 ; 5A
    dw JumpTable_3DFC_00 ; 5B
    dw JumpTable_3E07_00 ; 5C
    dw JumpTable_3E12_00 ; 5D
    dw JumpTable_4D09_03 ; 5E
    dw JumpTable_4D09_03 ; 5F
    dw JumpTable_3E1D_00 ; 60
    dw JumpTable_5028_03 ; 61
    dw JumpTable_3E28_00 ; 62
    dw JumpTable_3E33_00 ; 63
    dw JumpTable_4D14_03 ; 64
    dw JumpTable_3E3E_00 ; 65
    dw JumpTable_4D09_03 ; 66
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 67
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 68
    dw JumpTable_4BE6_03 ; 69
    dw JumpTable_4CD8_03 ; 6A
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 6B
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 6C
    dw JumpTable_4C61_03 ; 6D
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 6E
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 6F
    dw JumpTable_4CEC_03 ; 70
    dw JumpTable_4C2B_03 ; 71
    dw JumpTable_4C2B_03.JumpTable_4C39_03 ; 72
    dw JumpTable_4CEC_03 ; 73
    dw JumpTable_4CEC_03 ; 74
    dw JumpTable_4CEC_03 ; 75
    dw JumpTable_4C3A_03 ; 76
    dw JumpTable_4CEC_03 ; 77
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 78
    dw JumpTable_4CCB_03 ; 79
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 7A
    dw JumpTable_4CEC_03 ; 7B
    dw JumpTable_5032_03.JumpTable_503B_03 ; 7C
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 7D
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 7E
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 7F
    dw JumpTable_4BA0_03 ; 80
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 81
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 82
    dw JumpTable_4BBF_03 ; 83
    dw JumpTable_4C46_03 ; 84
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 85
    dw JumpTable_4C06_03 ; 86
    dw JumpTable_4BF4_03 ; 87
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 88
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 89
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 8A
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 8B
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 8C
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 8D
    dw JumpTable_5032_03.JumpTable_503B_03 ; 8E
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 8F
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 90
    dw JumpTable_4BDA_03 ; 91
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 92
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 93
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 94
    dw JumpTable_4BA4_03 ; 95
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 96
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 97
    dw JumpTable_4B4A_03 ; 98
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 99
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 9A
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 9B
    dw JumpTable_4F5F_03 ; 9C
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 9D
    dw JumpTable_4BD4_03 ; 9E
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 9F
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; A0
    dw JumpTable_4B61_03 ; A1
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; A2
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; A3
    dw JumpTable_4B67_03 ; A4
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; A5
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; A6
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; A7
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; A8
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; A9
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; AA
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; AB
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; AC
    dw JumpTable_4BC7_03 ; AD
    dw JumpTable_4D09_03 ; AE
    dw JumpTable_5020_03 ; AF
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; B0
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; B1
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; B2
    dw JumpTable_5032_03.JumpTable_503B_03 ; B3
    dw JumpTable_4B98_03 ; B4
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; B5
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; B6
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; B7
    dw JumpTable_4BC3_03 ; B8
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; B9
    dw JumpTable_4B89_03 ; BA
    dw JumpTable_4B89_03.JumpTable_4B97_03 ; BB
    dw JumpTable_5032_03.JumpTable_503B_03 ; BC
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; BD
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; BE
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; BF
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; C0
    dw JumpTable_4B7E_03 ; C1
    dw JumpTable_4B58_03 ; C2
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; C3
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; C4
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; C5
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; C6
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; C7
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; C8
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; C9
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; CA
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; CB
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; CC
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; CD
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; CE
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; CF
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D0
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D1
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D2
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D3
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D4
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D5
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D6
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D7
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D8
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; D9
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; DA
    dw JumpTable_4F5F_03 ; DB
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; DC
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; DD
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; DE
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; DF
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; E0
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; E1
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; E2
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; E3
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; E4
    dw JumpTable_4BF8_03 ; E5
    dw JumpTable_4BB7_03 ; E6
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; E7
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; E8

    db   $01, $04

JumpTable_4B4A_03:
    ld   hl, $C460
    add  hl, bc
    ld   e, [hl]
    ld   d, b
    ld   hl, $4B48
    add  hl, de
    ld   a, [hl]
    jp   toc_01_3B87

JumpTable_4B58_03:
    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    sub  a, $03
    ld   [hl], a
    ret


JumpTable_4B61_03:
    call toc_01_088C
    ld   [hl], $30
    ret


JumpTable_4B67_03:
    ld   a, [$FFF6]
    cp   $65
    ret  nz

    returnIfLt [$FFEC], $50

    ld   hl, $C2B0
    add  hl, bc
    inc  [hl]
    ret


JumpTable_4B77_03:
    ld   hl, $C360
    add  hl, bc
    ld   [hl], $02
    ret


JumpTable_4B7E_03:
    ld   hl, $DB74
    ld   a, [$DB73]
    or   [hl]
    jp   nz, toc_01_3F7A.else_01_3FB7

    ret


JumpTable_4B89_03:
    ld   hl, $C310
    add  hl, bc
    ld   [hl], $10
    call toc_01_27ED
    ld   hl, $C3D0
    add  hl, bc
    ld   [hl], a
.JumpTable_4B97_03:
    ret


JumpTable_4B98_03:
    call JumpTable_5032_03.JumpTable_503B_03
    ld   a, $02
    jp   toc_01_3B87

JumpTable_4BA0_03:
    ld   a, $33
    jr   JumpTable_4BA4_03.toc_03_4BA6

JumpTable_4BA4_03:
    ld   a, MUSIC_RICHARD_MANSION
.toc_03_4BA6:
    ld   e, a
    ld   a, [$DB4E]
    and  a
    ret  z

    ld   a, e
.toc_03_4BAD:
    ld   [$D368], a
    ld   [hDefaultMusicTrack], a
    ld   [$FFBD], a
    ld   [hNextDefaultMusicTrack], a
    ret


JumpTable_4BB7_03:
    clear [$D219]
    call toc_01_27D2
    ret


JumpTable_4BBF_03:
    ld   a, $24
    jr   JumpTable_4BA4_03.toc_03_4BAD

JumpTable_4BC3_03:
    ld   a, $3A
    jr   JumpTable_4BA4_03.toc_03_4BAD

JumpTable_4BC7_03:
    clear [$C168]
    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    sub  a, $04
    ld   [hl], a
    ret


JumpTable_4BD4_03:
    call toc_01_27ED
    jp   toc_01_3B87

JumpTable_4BDA_03:
    call toc_01_0887
    call toc_01_27ED
    and  %00111111
    add  a, $10
    ld   [hl], a
    ret


JumpTable_4BE6_03:
    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    add  a, $0A
    ld   [hl], a
    ld   hl, $C2C0
    add  hl, bc
    ld   [hl], a
    ret


JumpTable_4BF4_03:
    clear [hDefaultMusicTrack]
    ret


JumpTable_4BF8_03:
    call JumpTable_4C06_03.else_03_4C24
    ld   a, [$FFEE]
    swap a
    and  %00000001
    add  a, $04
    jp   toc_01_3B87

JumpTable_4C06_03:
    ld   a, [$FFEE]
    swap a
    and  %00000001
    ld   e, a
    ld   a, [$FFEF]
    swap a
    inc  a
    rla
    and  %00000010
    or   e
    call toc_01_3B87
    cp   $01
    jr   nz, .else_03_4C24

    ifZero [$DB4B], toc_01_3F7A.else_01_3FB7

.else_03_4C24:
    ld   hl, $C310
    add  hl, bc
    ld   [hl], $13
    ret


JumpTable_4C2B_03:
    ld   hl, $C380
    add  hl, bc
    ld   [hl], $02
    call JumpTable_3B8D_00
    call toc_01_0891
    ld   [hl], $20
.JumpTable_4C39_03:
    ret


JumpTable_4C3A_03:
    ld   a, [$FFF6]
    cp   $D9
    ld   a, $32
    jr   nz, .else_03_4C44

    ld   a, $37
.else_03_4C44:
    jr   JumpTable_4C46_03.toc_03_4C55

JumpTable_4C46_03:
    ld   hl, $C310
    add  hl, bc
    ld   [hl], $10
    ifZero [$C5A9], toc_01_3F7A.else_01_3FB7

    ld   a, $0C
.toc_03_4C55:
    call JumpTable_4BA4_03.toc_03_4BA6
    ld   de, $C220
    ld   hl, $C200
    jp   JumpTable_5032_03.toc_03_504A

JumpTable_4C61_03:
    ifNe [$FFF6], $E2, .else_03_4C71

    ifEq [$DB56], $80, .return_03_4C78

    jp   toc_01_3F7A.else_01_3FB7

.else_03_4C71:
    ifZero [$DB56], toc_01_3F7A.else_01_3FB7

.return_03_4C78:
    ret


JumpTable_4C79_03:
    ld   a, [$FFF8]
    rra
    jr   JumpTable_4C7E_03.toc_03_4C80

JumpTable_4C7E_03:
    ld   a, [$FFF8]
.toc_03_4C80:
    and  %00010000
    jp   nz, toc_01_3F7A.else_01_3FB7

    ret


JumpTable_4C86_03:
    ifLt [$FFF6], $C0, .else_03_4CA9

    _ifNotZero [$DB74], toc_01_3F7A.else_01_3FB7

    ifZero [$DB73], toc_01_3F7A.else_01_3FB7

    inc  a
    ld   [$C3C8], a
    assign [hNextMusicTrackToFadeInto], MUSIC_MARIN_SINGING
    ld   [hDefaultMusicTrack], a
    ld   [$FFBD], a
    call toc_01_27CA
.else_03_4CA9:
    ifNotZero [DEBUG_TOOL1], JumpTable_4CEC_03

    _ifZero [$DB4F], JumpTable_4CEC_03

    _ifZero [$DB50], .else_03_4CC4

    ld   [$DB96], a
    assign [wGameMode], GAMEMODE_CREDITS
    ret


.else_03_4CC4:
    ld   hl, $C3A0
    add  hl, bc
    ld   [hl], $6B
    ret


JumpTable_4CCB_03:
    ifNe [$DB56], $80, .return_03_4CD7

    assign [$D368], $0E
.return_03_4CD7:
    ret


JumpTable_4CD8_03:
    _ifZero [$DBA5], JumpTable_4CEC_03

    ld   a, [$D477]
    and  a
    ret  nz

    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    sub  a, $10
    ld   [hl], a
    ret


JumpTable_4CEC_03:
    ld   hl, $C380
    add  hl, bc
    ld   [hl], $03
.JumpTable_4CF2_03:
    _ifZero [$DB44], .else_03_4CFD

    ld   a, $1C
    call JumpTable_4BA4_03.toc_03_4BAD
.else_03_4CFD:
    jr   JumpTable_4D00_03.toc_03_4D05

JumpTable_4CFF_03:
    ret


JumpTable_4D00_03:
    ld   a, $07
    call JumpTable_4BA4_03.toc_03_4BA6
.toc_03_4D05:
    ld   a, $01
    jr   JumpTable_4D09_03.toc_03_4D0E

JumpTable_4D09_03:
    call toc_01_27ED
    and  %00000011
.toc_03_4D0E:
    ld   hl, $C380
    add  hl, bc
    ld   [hl], a
.JumpTable_4D13_03:
    ret


JumpTable_4D14_03:
    assign [gbIE], IE_LCDC | IE_VBLANK
    ret


JumpTable_4D19_03:
    ld   a, $FF
    jp   toc_01_3B87

JumpTable_4D1E_03:
    inc  [hl]
    nop
    inc  [hl]
    jr   nz, toc_03_4D57

    db   $10

    inc  [hl]
    jr   nc, @-$31

    sub  a, c
    ld   [$2628], sp
    ld   a, [hFrameCounter]
    rra
    rra
    rra
    and  %00000001
    ld   [$FFF1], a
    ld   de, $4D1E
    call toc_01_3C3B
    ld   hl, $C3B0
    add  hl, bc
    ld   a, [hl]
    ld   [$FFF1], a
    call toc_01_393D
    call toc_03_7F4A.toc_03_7F50
    call toc_03_7F6C
    call toc_03_60CC.toc_03_60D5
    call toc_01_3DAF
    ret


toc_03_4D51:
    ifNe [$FFEB], $1F, else_03_4D66

toc_03_4D57:
    ld   hl, $C3A0
    add  hl, bc
    ld   [hl], $1E
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $05
    jp   toc_03_48B0.toc_03_48C0

else_03_4D66:
    ld   hl, $C480
    add  hl, bc
    ld   [hl], $1F
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $01
    ld   hl, $C340
    add  hl, bc
    ld   [hl], $04
    ld   hl, $FFF4
    ld   [hl], $13
    ret


    db   $00, $00, $04, $00, $00, $01, $03, $06
    db   $24, $00, $24, $00, $3E, $00, $1E, $00
    db   $1E, $60

JumpTable_4D90_03:
    call toc_01_0891
    jr   nz, .else_03_4DBB

    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %00000010
    jr   nz, .else_03_4DA3

    ld   hl, $D460
    ld   [hl], $01
.else_03_4DA3:
    ifNe [$FFEB], $A8, .else_03_4DB8

    assign [$DB6F], $16
    assign [$DB70], $50
    assign [$DB71], $27
.else_03_4DB8:
    jp   toc_01_3F7A.else_01_3FB7

.else_03_4DBB:
    cp   $40
    jr   c, .else_03_4DDD

    ifEq [$FFEB], $09, .else_03_4DCD

    cp   $0B
    jr   z, .else_03_4DCD

    cp   $14
    jr   nz, .else_03_4DD6

.else_03_4DCD:
    call toc_03_5897.toc_03_5958
    call toc_03_5897.toc_03_5958
    call toc_03_5897.toc_03_5958
.else_03_4DD6:
    call toc_01_393D
    call toc_03_7F4A.toc_03_7F50
    ret


.else_03_4DDD:
    rra
    rra
    rra
    rra
    and  %00000011
    ld   hl, $C3B0
    add  hl, bc
    ld   [hl], a
    ld   [$FFF1], a
    ld   e, a
    ld   d, b
    ld   hl, $4D7E
    add  hl, de
    ld   a, [$FFEC]
    add  a, [hl]
    ld   [$FFEC], a
    ld   a, e
    cp   $03
    jr   nz, .else_03_4E05

    clear [$FFF1]
    ld   de, $4D8C
    call toc_01_3C3B
    jr   .toc_03_4E0B

.else_03_4E05:
    ld   de, $4D86
    call toc_01_3CD0
.toc_03_4E0B:
    call toc_03_7F4A.toc_03_7F50
    call toc_01_0891
    cp   $3F
    jr   nz, .else_03_4E1A

    ld   hl, $FFF2
    ld   [hl], $18
.else_03_4E1A:
    rra
    rra
    rra
    rra
    and  %00000011
    ld   e, a
    ld   d, b
    ld   hl, $4D82
    add  hl, de
    ld   e, [hl]
    ld   a, [hLinkPositionX]
    push af
    ld   hl, $C4B0
    add  hl, bc
    ld   a, [hl]
    ld   [hLinkPositionX], a
    ld   a, [hLinkPositionY]
    push af
    ld   hl, $C4C0
    add  hl, bc
    ld   a, [hl]
    ld   [hLinkPositionY], a
    ld   a, e
    call toc_03_7E99
    pop  af
    ld   [hLinkPositionY], a
    pop  af
    ld   [hLinkPositionX], a
    call toc_03_7EF7
    ret


JumpTable_4E49_03:
    call toc_01_393D
    call toc_03_7F4A.toc_03_7F50
    ld   hl, $C410
    add  hl, bc
    ld   [hl], $02
    call toc_03_60CC.toc_03_60D5
    ld   hl, $C410
    add  hl, bc
    ld   [hl], b
    call toc_03_6723
    call toc_03_5497
    ifNe [$FFEB], $5C, .else_03_4E87

    ld   hl, $C2A0
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .else_03_4E87

    ld   hl, $C420
    add  hl, bc
    ld   [hl], $20
    ld   hl, $FFF3
    ld   [hl], $07
    ld   hl, $C440
    add  hl, bc
    ld   a, [hl]
    inc  a
    ld   [hl], a
    cp   $03
    jr   z, .else_03_4EA4

.else_03_4E87:
    assign [$C19E], $0B
    call toc_03_75A6
    ld   hl, $C240
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C250
    add  hl, bc
    or   [hl]
    jr   nz, .return_03_4EB9

    call JumpTable_7059_03.toc_03_726B
    ifNe [$FFEB], $5C, .return_03_4EB9

.else_03_4EA4:
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $05
    call JumpTable_3B8D_00
    ld   [hl], $01
    call toc_01_0891
    ld   [hl], $80
    ld   hl, $C2D0
    add  hl, bc
    ld   [hl], b
.return_03_4EB9:
    ret


    db   $10, $F0

JumpTable_4EBC_03:
    call toc_01_393D
    call toc_03_7F4A.toc_03_7F50
    call toc_03_7F6C
    call toc_03_60CC.toc_03_60D5
    call toc_01_3DAF
    call toc_03_6E3D.toc_03_6E40
    ifNe [$DB00], $03, .else_03_4EDD

    ld   a, [$FFCC]
    and  %00100000
    jr   nz, .else_03_4EEA

    jr   .else_03_4F27

.else_03_4EDD:
    ifNe [$DB01], $03, .else_03_4F27

    ld   a, [$FFCC]
    and  %00010000
    jr   z, .else_03_4F27

.else_03_4EEA:
    _ifZero [$C3CF], .else_03_4F27

    ld   hl, $C340
    add  hl, bc
    ld   a, [hl]
    push hl
    push af
    or   %10000000
    ld   [hl], a
    call toc_03_6C87.toc_03_6C8E
    rl   e
.JumpTable_4EFF_03:
    pop  af
    pop  hl
    ld   [hl], a
    rr   e
    jr   nc, .else_03_4F27

    assign [$C3CF], $01
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $07
    assign [$FFF3], $02
    ld   hl, $C490
    add  hl, bc
    ld   [hl], b
    call toc_01_0891
    ld   [hl], $02
    copyFromTo [hLinkDirection], [$C15D]
    jp   JumpTable_5792_03

.else_03_4F27:
    ld   hl, $C300
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   nz, .else_03_4F3A

    ld   hl, $C280
    add  hl, bc
    ld   [hl], $05
    ld   hl, $C320
    add  hl, bc
    ld   [hl], b
.else_03_4F3A:
    cp   $3C
    jr   nc, .return_03_4F56

    srl  a
    srl  a
    and  %00000001
    ld   e, a
    ld   d, b
    ld   hl, $4EBA
    add  hl, de
    ld   a, [hl]
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    call toc_03_7F04
    call toc_01_3DAF
.return_03_4F56:
    ret


    db   $0C, $0C, $F4, $F4, $0C, $F4, $0C, $F4

JumpTable_4F5F_03:
    call toc_01_27ED
    and  %00000011
    ld   e, a
    ld   d, b
    ld   hl, $4F57
    add  hl, de
    ld   a, [hl]
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    ld   hl, $4F5B
    add  hl, de
    ld   a, [hl]
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
    ret


JumpTable_4F7B_03:
    ld   hl, $C2C0
    add  hl, bc
    ld   [hl], $04
    ld   a, $03
    jr   JumpTable_4F85_03.toc_03_4F87

JumpTable_4F85_03:
    ld   a, $FD
.toc_03_4F87:
    ld   hl, $C210
    add  hl, bc
    add  a, [hl]
    ld   [hl], a
    ret


JumpTable_4F8E_03:
    call toc_01_0891
    ld   [hl], $80
    ld   hl, $C3B0
    add  hl, bc
    dec  [hl]
    ret


JumpTable_4F99_03:
    ld   a, [$FFEE]
    and  %00010000
    ld   a, $00
    jr   nz, .else_03_4FA3

    ld   a, $03
.else_03_4FA3:
    ld   hl, $C380
    add  hl, bc
    ld   [hl], a
    push hl
    call toc_03_5897.toc_03_5958
    pop  hl
    ld   a, [hl]
    xor  %00000001
    ld   [hl], a
    ret


JumpTable_4FB2_03:
    ld   hl, $C2D0
    add  hl, bc
    ld   [hl], $02
    ifEq [$FFF6], $A4, .else_03_4FC2

    cp   $D2
    jr   nz, .else_03_4FC6

.else_03_4FC2:
    dec  [hl]
    call JumpTable_5032_03.JumpTable_503B_03
.else_03_4FC6:
    call toc_03_4FCA.else_03_4FDC
    ret


toc_03_4FCA:
    ld   hl, $C2D0
    add  hl, bc
    ld   [hl], $01
    ifNotZero [$DBA5], .else_03_4FDC

.JumpTable_4FD6_03:
    ld   hl, $C2D0
    add  hl, bc
    ld   [hl], $02
.else_03_4FDC:
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    or   %00010001
    ld   [hl], a
    ret


JumpTable_4FE5_03:
    ifNe [$FFF6], $F8, .else_03_4FFC

    ld   a, [$FFF8]
    bit  4, a
    jp   nz, toc_01_3F7A.else_01_3FB7

    bit  5, a
    jp   z, toc_01_3F7A.else_01_3FB7

    ld   a, $02
    jp   toc_01_3B87

.else_03_4FFC:
    cp   $7A
    jr   nz, .else_03_500C

    ld   a, [$FFF8]
    and  %00010000
    jp   nz, toc_01_3F7A.else_01_3FB7

    ld   a, $04
    jp   toc_01_3B87

.else_03_500C:
    cp   $7C
    jr   nz, .return_03_501F

    ld   a, [$D969]
    and  %00010000
    jp   z, toc_01_3F7A.else_01_3FB7

    ld   a, [$FFF8]
    and  %00010000
    jp   nz, toc_01_3F7A.else_01_3FB7

.return_03_501F:
    ret


JumpTable_5020_03:
    ifEq [$DB0E], $0E, JumpTable_5032_03.JumpTable_503B_03

    ret


JumpTable_5028_03:
    ld   a, [$DBA5]
    and  a
    ret  z

    call JumpTable_3B8D_00
    jr   JumpTable_5032_03.JumpTable_503B_03

JumpTable_5032_03:
    call toc_03_4FCA
    _ifZero [$DBA5], toc_03_5061

.JumpTable_503B_03:
    ld   de, $C220
    ld   hl, $C200
    call .toc_03_504A
    ld   de, $C230
    ld   hl, $C210
.toc_03_504A:
    add  hl, bc
    ld   a, [hl]
    add  a, $08
    ld   [hl], a
    rla
    push de
    pop  hl
    add  hl, bc
    rra
    ld   a, [hl]
    adc  $00
    ld   [hl], a
    ret


JumpTable_5059_03:
    ld   de, $C220
    ld   hl, $C200
    jr   JumpTable_5032_03.toc_03_504A

toc_03_5061:
    call toc_01_0887
    ld   [hl], $80
    ret


JumpTable_5067_03:
    call toc_01_088C
    ld   [hl], $A0
    ret


JumpTable_506D_03:
    ifNe [$FFEB], $12, .else_03_5080

    ld   hl, $C2D0
    add  hl, bc
    ld   [hl], $01
    ld   hl, $C310
    add  hl, bc
    ld   [hl], $10
    ret


.else_03_5080:
    call JumpTable_3B8D_00
    ret


    db   $60, $00, $62, $00, $62, $20, $60, $20
    db   $64, $00, $66, $00, $66, $20, $64, $20
    db   $68, $00, $6A, $00, $6C, $00, $6E, $00
    db   $6A, $20, $68, $20, $6E, $20

JumpTable_50A2_03:
    ld   l, h
    jr   nz, toc_03_5115

    nop
    ld   [hl], d
    nop
    ld   [hl], d
    jr   nz, toc_03_5115.toc_03_511B

    jr   nz, .else_03_50B9

    db   $F4

    nop
    nop
    nop
    nop
    db   $F4

    inc  c
    ld   hl, $C2C0
    add  hl, bc
    ld   a, [hl]
.else_03_50B9:
    and  a
    jr   z, .else_03_5102

    ld   de, $50A4
    call toc_01_3C3B
    call toc_03_7F4A
    call toc_03_7F6C
    call toc_03_6E3D
    call toc_03_7EF7
    call toc_03_7892
    call toc_01_0891
    jr   nz, .else_03_50F6

    call toc_01_27ED
    and  %00011111
    add  a, $20
    ld   [hl], a
    and  %00000011
    ld   e, a
    ld   d, b
    ld   hl, $50AC
    add  hl, de
    ld   a, [hl]
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    ld   hl, $50B0
    add  hl, de
    ld   a, [hl]
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
.else_03_50F6:
    ld   a, [hFrameCounter]
    rra
    rra
    rra
    rra
    and  %00000001
    call toc_01_3B87
    ret


.else_03_5102:
    ld   de, $5084
    call toc_03_5897
    ret


    db   $62, $70, $63, $71, $03, $04, $05, $06
    db   $07, $08, $09, $0A

toc_03_5115:
    dec  bc
    inc  c
    ld   [bc], a
    ld   bc, $0000
.toc_03_511B:
    nop
    nop
    ld   bc, $1432
    ld   h, h
    ret  z

    db   $F4

.JumpTable_5123_03:
    assign [$C111], $2A
    assign [$FFF4], $04
    ld   de, $5109
    ld   b, $A1
    call JumpTable_520D_03.else_03_5256
    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    sub  a, $08
    ld   [hl], a
    ld   hl, $C250
    add  hl, bc
    ld   [hl], $FC
    ld   hl, $C3B0
    add  hl, bc
    ld   a, [hl]
    ld   [$FFE8], a
    ld   d, b
    cp   $11
    jr   nz, .else_03_515A

    push af
    ld   a, [$C501]
    ld   e, a
    ld   hl, $C2F0
    add  hl, de
    ld   [hl], $38
    pop  af
.else_03_515A:
    ld   e, a
    cp   $21
    jp   nc, .else_03_51D8

    cp   $20
    jr   nz, .else_03_5167

    jp   JumpTable_638D_03.toc_03_6392

.else_03_5167:
    cp   $1B
    jr   c, toc_03_5115.else_03_5186

    cp   $20
    jr   nc, toc_03_5115.else_03_5186

    ld   hl, $5103
    add  hl, de
    ld   a, [hl]
    ld   [$DB90], a
    ld   hl, $50FE
    add  hl, de
    ld   a, [hl]
    ld   [$DB8F], a
    assign [$C3CE], $18
    jr   toc_03_5115.else_03_51D8

.else_03_5186:
    cp   $16
    jr   c, toc_03_5115.else_03_519D

    cp   $1B
    jr   nc, toc_03_5115.else_03_519D

    sub  a, $16
    ld   e, a
    ld   d, $00
    ld   hl, $DBCC
    add  hl, de
    inc  [hl]
    call toc_01_27E2
    jr   toc_03_5115.else_03_51D8

.else_03_519D:
    cp   $0C
    jr   nc, toc_03_5115.else_03_51D3

    ifNe [$FFE8], $01, toc_03_5115.else_03_51AB

    incAddr $DB44
.else_03_51AB:
    cp   $00
    jr   nz, toc_03_5115.else_03_51BA

    ifEq [$DB43], $02, toc_03_5115.else_03_51BA

    incAddr $DB43
.else_03_51BA:
    ifNe [$FFE8], $0A, toc_03_5115.else_03_51C8

    ld   hl, $DB4D
    ld   a, [hl]
    add  a, $01
    daa
    ld   [hl], a
.else_03_51C8:
    ld   d, b
    ld   hl, $510D
    add  hl, de
    ld   d, [hl]
    call JumpTable_6472_03.toc_03_6497
    jr   toc_03_5115.else_03_51D8

.else_03_51D3:
    ld   hl, $DB00
    add  hl, de
    inc  [hl]
.else_03_51D8:
    call toc_03_51E2
    ld   a, [hl]
    or   %00010000
    ld   [hl], a
    ld   [$FFF8], a
    ret


toc_03_51E2:
    ld   a, [$DBA5]
    ld   d, a
    ld   hl, $D800
    ld   a, [$FFF6]
    ld   e, a
    ifGte [$FFF7], $1A, .else_03_51F7

    cp   $06
    jr   c, .else_03_51F7

    inc  d
.else_03_51F7:
    add  hl, de
    ret


    db   $6A, $7A, $6B, $7B, $10, $12, $11, $13
    db   $F8, $F9, $FA, $FB, $0E, $1E, $0F, $1F
    db   $68, $77, $69, $4B

JumpTable_520D_03:
    call toc_03_7ED0
    ld   d, $00
    ld   hl, $52B6
    add  hl, de
    ld   a, [hl]
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    ld   hl, $52BA
    add  hl, de
    ld   a, [hl]
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
    call toc_03_52BE
    call toc_03_7892
    ld   hl, $C2A0
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .else_03_5237

    jp   toc_01_3F7A.else_01_3FB7

.else_03_5237:
    assign [$FFF4], $11
    ld   de, $5209
    ld   b, $C6
    ifNotZero [$DBA5], .else_03_5256

    ld   de, $51FD
    ld   b, $0D
    ifNe [$FFF6], $C7, .else_03_5256

    ld   de, $51F9
    ld   b, $BE
.else_03_5256:
    push de
    ld   a, b
    push af
    ld   b, $00
    ld   a, [$FFEF]
    sub  a, $0F
    ld   [hSwordIntersectedAreaY], a
    ld   a, [$FFEE]
    sub  a, $07
    ld   [hSwordIntersectedAreaX], a
    swap a
    and  %00001111
    ld   e, a
    ld   a, [hSwordIntersectedAreaY]
    and  %11110000
    or   e
    ld   e, a
    ld   d, $00
    ld   hl, $D711
    add  hl, de
    pop  af
    ld   [hl], a
    call toc_01_2839
    ld   a, [$D600]
    ld   e, a
    ld   d, $00
    ld   hl, $D601
    add  hl, de
    add  a, $0A
    ld   [$D600], a
    pop  de
    ld   a, [$FFCF]
    ldi  [hl], a
    ld   a, [$FFD0]
    ldi  [hl], a
    ld   a, $81
    ldi  [hl], a
    ld   a, [de]
    inc  de
    ldi  [hl], a
    ld   a, [de]
    inc  de
    ldi  [hl], a
    ld   a, [$FFCF]
    ldi  [hl], a
    ld   a, [$FFD0]
    inc  a
    ldi  [hl], a
    ld   a, $81
    ldi  [hl], a
    ld   a, [de]
    inc  de
    ldi  [hl], a
    ld   a, [de]
    ldi  [hl], a
    xor  a
    ld   [hl], a
    ret


    db   $6E, $00, $6E, $20, $F8, $10, $FA, $10
    db   $F8, $08, $00, $00, $00, $00, $08, $F8

toc_03_52BE:
    copyFromTo [$DBA5], [$FFF1]
    ld   de, $52AE
    call toc_01_3C3B
    call toc_03_7F4A
    call toc_03_7EF7
    call toc_03_5343
    call toc_03_6C87.toc_03_6C93
    jr   nc, .else_03_52DF

    call toc_01_094A
    assign [$C144], $03
.else_03_52DF:
    ifEq [$FFF6], $C7, .else_03_52EB

    _ifZero [$DBA5], .else_03_52EF

.else_03_52EB:
    assign [hLinkInteractiveMotionBlocked], INTERACTIVE_MOTION_LOCKED_TALKING
.else_03_52EF:
    ld   hl, $C3D0
    add  hl, bc
    ld   a, [hl]
    inc  a
    ld   [hl], a
    cp   $21
    jr   nz, .return_03_5342

    ld   hl, $C410
    add  hl, bc
    ld   [hl], a
    call toc_03_7892
    ld   hl, $C280
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .return_03_5342

    cp   $02
    jr   z, .return_03_5342

    call toc_01_3F7A.else_01_3FB7
    ld   de, $5205
    ld   b, $C4
    ifNotZero [$DBA5], .else_03_5321

    ld   de, $5201
    ld   b, $A6
.else_03_5321:
    call JumpTable_520D_03.else_03_5256
    ld   a, [$C18E]
    and  %00011111
    cp   $02
    jr   z, .else_03_533F

    cp   $07
    jr   nz, .return_03_5342

    call toc_03_7892
    ifEq [$C503], $A7, .else_03_533F

    cp   $A6
    jr   nz, .return_03_5342

.else_03_533F:
    call toc_01_08EC
.return_03_5342:
    ret


toc_03_5343:
    ld   e, $0F
    ld   d, b
.loop_03_5346:
    ld   hl, $C280
    add  hl, de
    ld   a, [hl]
    cp   $05
    jr   c, .else_03_538D

    ld   hl, $C340
    add  hl, de
    ld   a, [hl]
    and  %01000000
    jr   nz, .else_03_538D

    ld   hl, $C200
    add  hl, de
    ld   a, [$FFEE]
    sub  a, [hl]
    add  a, $0C
    cp   $18
    jr   nc, .else_03_538D

    ld   hl, $C210
    add  hl, de
    ld   a, [hl]
    ld   hl, $C310
    add  hl, de
    sub  a, [hl]
    ld   hl, $FFEC
    sub  a, [hl]
    add  a, $0C
    cp   $18
    jr   nc, .else_03_538D

    ld   hl, $C340
    add  hl, de
    ld   a, [hl]
    and  %00100000
    jr   nz, .else_03_538D

    push bc
    push de
    pop  bc
    push de
    ld   a, $08
    call toc_03_6F82.else_03_6FE1
    pop  de
    pop  bc
.else_03_538D:
    dec  e
    ld   a, e
    cp   $FF
    jp   nz, .loop_03_5346

    ret


    db   $16, $00, $79, $EA, $0C, $C5, $CD, $8C
    db   $08, $E0, $D7, $CA, $10, $54, $FE, $01
    db   $20, $5D, $21, $90, $C3, $09, $7E, $A7
    db   $28, $29, $CD, $ED, $27, $E6, $03, $20
    db   $22, $3E, $2F, $CD, $F8, $64, $38, $1B
    db   $F0, $D7, $21, $00, $C2, $19, $77, $F0
    db   $D8, $21, $10, $C2, $19, $77, $F0, $DA
    db   $21, $10, $C3, $19, $77, $21, $50, $C4
    db   $19, $36, $80, $F0, $F1, $A7, $20, $24
    db   $F0, $F7, $FE, $1E, $28, $04, $FE, $10
    db   $20, $1A, $FA, $73, $DB, $A7, $28, $14
    db   $CD, $ED, $27, $E6, $3F, $20, $08, $3E
    db   $28, $CD, $97, $21, $C3, $B7, $3F, $3E
    db   $99, $CD, $85, $21, $C3, $B7, $3F, $CD
    db   $F6, $37, $C9, $F0, $10, $F2, $10, $F4
    db   $10, $F6, $10, $11, $08, $54, $CD, $3B
    db   $3C, $CD, $4A, $7F, $3E, $0B, $EA, $9E
    db   $C1, $CD, $A6, $75, $CD, $D5, $60, $21
    db   $80, $C2, $09, $7E, $FE, $02, $CA, $63
    db   $54, $21, $10, $C3, $09, $7E, $A7, $28
    db   $0B, $21, $A0, $C2, $09, $7E, $A7, $28
    db   $25, $CD, $97, $54

toc_03_5441:
    ld   hl, $FFF4
    ld   [hl], $05
    ld   e, $1F
    ifEq [$FFF1], $FF, .else_03_5456

    cp   $01
    jr   z, .else_03_5456

    ld   [hl], $09
    ld   e, $0F
.else_03_5456:
    ld   hl, $C2F0
    add  hl, bc
    ld   [hl], e
    ld   hl, $C340
    add  hl, bc
    ld   a, [hl]
    add  a, $02
    ld   [hl], a
    ret


toc_03_5464:
    ld   a, $05
    call toc_03_64F8
    jr   c, .return_03_5496

    ld   a, [$FFD7]
    ld   hl, $C200
    add  hl, de
    ld   [hl], a
    ld   a, [$FFD8]
    ld   hl, $FFDA
    sub  a, [hl]
    ld   hl, $C210
    add  hl, de
    ld   [hl], a
    ld   hl, $C3B0
    add  hl, de
    ld   [hl], $00
    ld   hl, $C2F0
    add  hl, de
    ld   [hl], $0F
    ld   hl, $C340
    add  hl, de
    ld   [hl], $C4
    assign [$FFF4], $09
    call toc_01_3F7A.else_01_3FB7
.return_03_5496:
    ret


toc_03_5497:
    ld   hl, $C2A0
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .return_03_54E5

    ld   a, [$C18E]
    and  %00011111
    cp   $0D
    jr   nz, .else_03_54C8

    ifEq [$C503], $A0, .else_03_54B6

    ifNe [$C50D], $A0, .return_03_54E5

.else_03_54B6:
    assign [hSwordIntersectedAreaX], $30
    assign [hSwordIntersectedAreaY], $20
    assign [$FFDF], $19
    call toc_01_3E7D
    jp   toc_01_08EC

.else_03_54C8:
    cp   $0B
    jr   nz, .return_03_54E5

    ifLt [$C50D], $35, .return_03_54E5

    cp   $3D
    jr   c, .else_03_54E2

    ifLt [$C503], $35, .return_03_54E5

    cp   $3D
    jr   nc, .return_03_54E5

.else_03_54E2:
    call toc_01_08EC
.return_03_54E5:
    ret


    db   $32, $00, $32, $60, $30, $00, $30, $60
    db   $00, $00, $3C, $00, $00, $08, $3C, $20
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $00, $00, $3A, $00, $00, $08, $3A, $20
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $FA, $FA, $3A, $00, $FA, $02, $3A, $20
    db   $06, $06, $3A, $00, $06, $0E, $3A, $20
    db   $04, $FC, $30, $00, $04, $04, $30, $20
    db   $FC, $04, $30, $00, $FC, $0C, $30, $20
    db   $00, $00, $3A, $00, $00, $08, $3A, $20
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $F8, $F8, $3A, $00, $F8, $00, $3A, $20
    db   $08, $08, $3A, $00, $08, $10, $3A, $20
    db   $08, $F8, $3A, $00, $08, $00, $3A, $20
    db   $F8, $08, $3A, $00, $F8, $10, $3A, $20
    db   $F8, $F8, $10, $00, $F8, $00, $12, $00
    db   $F8, $08, $12, $20, $F8, $10, $10, $20
    db   $08, $F8, $10, $40, $08, $00, $12, $40
    db   $08, $08, $12, $60, $08, $10, $10, $60

JumpTable_557E_03:
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %10000000
    jr   z, .else_03_558A

    jp   JumpTable_3945_00

.else_03_558A:
    ld   hl, $C480
    add  hl, bc
    ld   a, [hl]
    and  a
    jp   z, toc_01_3F7A

    push af
    ld   hl, $C4A0
    add  hl, bc
    ld   a, [hl]
    ld   hl, $54EE
    and  a
    jr   z, .else_03_55A2

    ld   hl, $552E
.else_03_55A2:
    pop  af
    cp   $20
    jr   nc, .else_03_55D5

    rla
    and  %00110000
    ld   e, a
    ld   d, b
    add  hl, de
    cp   $30
    jr   nz, .else_03_55BB

    push hl
    ld   hl, $C4A0
    add  hl, bc
    ld   a, [hl]
    pop  hl
    and  a
    jr   nz, .else_03_55C2

.else_03_55BB:
    ld   c, $04
    call toc_01_3D26
    jr   .toc_03_55CE

.else_03_55C2:
    ld   c, $08
    call toc_01_3D26
    ld   a, $04
    call toc_01_3DD0
    jr   .toc_03_55CE

.toc_03_55CE:
    call toc_03_7F4A
    call toc_03_7F6C
    ret


.else_03_55D5:
    call toc_01_393D
    call toc_03_7F4A.toc_03_7F50
    ld   hl, $C410
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   nz, .else_03_55F9

    ld   hl, $C480
    add  hl, bc
    ld   [hl], $1F
    ifNe [$D47C], $01, .else_03_55F4

    assign [$FFF3], $12
.else_03_55F4:
    ld   hl, $FFF4
    ld   [hl], $13
.else_03_55F9:
    call toc_03_7F6C
    ret


    db   $2E, $2E, $2D, $2D, $37, $2D, $FF, $FF
    db   $2F, $37, $38, $2E, $2F, $2F, $03, $01
    db   $01, $00, $03, $03, $03, $03, $01, $00
    db   $00, $00, $03, $00, $01, $01, $01, $00
    db   $01, $01, $01, $01, $01, $00, $00, $00
    db   $01, $00, $2E, $2D, $38, $2F, $2E, $2D
    db   $38, $37

toc_03_562F:
    ifNe [$FFEB], $23, .else_03_5642

    ld   hl, $C2B0
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .else_03_5642

    ld   a, $31
    jp   .else_03_56D0

.else_03_5642:
    ld   hl, $C4E0
    add  hl, bc
    ld   a, [hl]
    cp   $FF
    ret  z

    and  a
    jp   nz, .else_03_56D0

    ld   a, [$D471]
    inc  a
    ld   [$D471], a
    cp   $0C
    jr   c, .else_03_566F

    clear [$D471]
    ld   a, [$C1BE]
    ld   hl, $D47C
    or   [hl]
    ld   hl, $FFF9
    or   [hl]
    jr   nz, .else_03_566F

    ld   a, $34
    jp   .else_03_56D0

.else_03_566F:
    ld   hl, $C4D0
    add  hl, bc
    ld   d, b
    ld   e, [hl]
    ld   hl, $487F
    add  hl, de
    ld   a, [hl]
    and  a
    ret  z

    ld   e, a
    ld   d, $1E
    ifLt [$DB5B], $07, .else_03_568E

    ld   d, $23
    cp   $0B
    jr   c, .else_03_568E

    ld   d, $28
.else_03_568E:
    incAddr $D415
    ld   a, [hl]
    cp   d
    jr   c, .else_03_56A8

    ld   [hl], b
    ld   a, [$C1BE]
    ld   hl, $FFF9
    or   [hl]
    ld   hl, $D47C
    or   [hl]
    jr   nz, .else_03_56A8

    ld   a, $33
    jr   .else_03_56D0

.else_03_56A8:
    ld   d, b
    ld   hl, $560A
    ifNotZero [$C163], .else_03_56B5

    ld   hl, $5618
.else_03_56B5:
    add  hl, de
    call toc_01_27ED
    and  [hl]
    ret  nz

    ld   hl, $55FC
    add  hl, de
    ld   a, [hl]
    cp   $FF
    jr   nz, .else_03_56D0

    call toc_01_27ED
    and  %00000111
    ld   e, a
    ld   d, b
    ld   hl, $5627
    add  hl, de
    ld   a, [hl]
.else_03_56D0:
    call toc_03_64F8
    ret  c

    ld   hl, $C2B0
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C2B0
    add  hl, de
    ld   [hl], a
    ld   a, [$FFD7]
    ld   hl, $C200
    add  hl, de
    ld   [hl], a
    ld   a, [$FFD8]
    ld   hl, $C210
    add  hl, de
    ld   [hl], a
    ld   hl, $C450
    add  hl, de
    ld   [hl], $80
    ld   hl, $C2F0
    add  hl, de
    ld   [hl], $18
    ld   hl, $C480
    add  hl, de
    ld   [hl], $03
    _ifZero [$FFF9], .else_03_5739

    ld   hl, $C3A0
    add  hl, de
    ld   a, [hl]
    cp   $30
    jr   nz, .else_03_5718

    ifNe [$FFEB], $88, .else_03_5718

    ld   hl, $C3B0
    add  hl, de
    ld   [hl], $03
.else_03_5718:
    cp   $3C
    jr   nz, .else_03_5731

    ifEq [$FFF6], $58, .else_03_5726

    cp   $5A
    jr   nz, .else_03_5731

.else_03_5726:
    push bc
    push de
    push de
    pop  bc
    ld   a, $10
    call toc_03_7E99
    pop  de
    pop  bc
.else_03_5731:
    ld   hl, $C320
    add  hl, de
    ld   [hl], $18
    jr   .toc_03_573F

.else_03_5739:
    ld   hl, $C250
    add  hl, de
    ld   [hl], $EC
.toc_03_573F:
    ld   hl, $C310
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C310
    add  hl, de
    ld   [hl], a
    ret


    db   $01, $08, $08, $10, $01, $04, $04, $0A
    db   $37, $37, $37, $01, $39, $39, $39, $01
    db   $3B, $3B, $3B, $01, $3D, $3D, $3D, $01
    db   $10, $10, $08, $00, $F0, $F0, $F8, $00
    db   $00, $00, $00, $00, $FF, $FF, $FF, $FF
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $08, $00
    db   $00, $00, $08, $0E, $00, $00, $08, $0E
    db   $00, $00, $08, $0E, $00, $00, $00, $0E

JumpTable_5792_03:
    copyFromTo [$FFEB], [$C5A8]
    cp   $02
    jr   nz, .else_03_57A5

    ld   hl, $C420
    add  hl, bc
    ld   [hl], b
    call toc_03_673D
    jr   .toc_03_57A8

.else_03_57A5:
    call toc_01_393D
.toc_03_57A8:
    ld   hl, $C490
    add  hl, bc
    ld   a, [hl]
    ld   e, a
    ld   d, b
    cp   $04
    jr   z, .else_03_57E2

    copyFromTo [$C15D], [hLinkDirection]
    push hl
    call toc_01_0891
    pop  hl
    and  a
    jr   nz, .else_03_57E2

    inc  [hl]
    ld   hl, $574A
    ifEq [$FFEB], $02, .else_03_57D8

    ifGte [$DB43], $02, .else_03_57D8

    ifNe [$D47C], $01, .else_03_57DB

.else_03_57D8:
    ld   hl, $574E
.else_03_57DB:
    add  hl, de
    ld   a, [hl]
    ld   hl, $C2E0
    add  hl, bc
    ld   [hl], a
.else_03_57E2:
    ld   a, e
    cp   $00
    jr   nz, .else_03_57E8

    inc  e
.else_03_57E8:
    call toc_03_57EF
    call toc_03_5840
    ret


toc_03_57EF:
    ld   a, [hLinkDirection]
    sla  a
    sla  a
    add  a, e
    ld   e, a
    ld   d, $00
    ld   hl, $5751
    add  hl, de
    ld   a, [hl]
    ld   [$C15C], a
    ld   hl, $5761
    add  hl, de
    ld   a, [hl]
    ld   hl, hLinkPositionX
    add  a, [hl]
    ld   hl, $C200
    add  hl, bc
    ld   [hl], a
    ld   hl, $5771
    add  hl, de
    ld   a, [hl]
    ld   hl, hLinkPositionY
    add  a, [hl]
    ld   hl, $C13B
    add  a, [hl]
    ld   hl, $C210
    add  hl, bc
    ld   [hl], a
    ifNotZero [$FFF9], .else_03_5831

    push hl
    ld   hl, $5781
    add  hl, de
    ld   e, [hl]
    pop  hl
    ld   a, [hl]
    sub  a, e
    ld   [hl], a
    ret


.else_03_5831:
    ld   hl, $5781
    add  hl, de
    ld   a, [hl]
    ld   hl, hLinkPositionZHigh
    add  a, [hl]
    ld   hl, $C310
    add  hl, bc
    ld   [hl], a
    ret


toc_03_5840:
    call toc_01_3831
    ret


    db   $11, $56, $58, $FA, $95, $DB, $FE, $01
    db   $28, $04, $3E, $30, $E0, $F5, $CD, $97
    db   $58, $C9, $30, $00, $30, $20, $32, $00
    db   $32, $20, $30, $40, $30, $60, $32, $40
    db   $32, $60, $34, $00, $36, $00, $38, $00
    db   $3A, $00, $36, $20, $34, $20, $3A, $20
    db   $38, $20, $08, $F8, $00, $00, $00, $00
    db   $F8, $08, $06, $04, $02, $00, $F0, $F7
    db   $FE, $15, $20, $08, $FA, $56, $DB, $FE
    db   $80, $C2, $B7, $3F, $79, $EA, $53, $D1
    db   $11, $74, $59

toc_03_5897:
    call toc_01_3C3B
    call toc_03_7F4A
    ld   hl, $C410
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .else_03_58B3

    ld   hl, $C290
    add  hl, bc
    ld   a, $01
    ld   [hl], a
    ld   [$FFF0], a
    call toc_01_0891
    ld   [hl], $40
.else_03_58B3:
    call toc_03_7F6C
    call toc_03_6E3D
    ifNotZero [$FFF0], .else_03_5933

    call toc_01_0891
    jr   z, .else_03_58F2

    cp   $0A
    jr   nz, .else_03_58E4

    call toc_01_088C
    jr   nz, .else_03_58E4

    call toc_03_7ED0
    ld   hl, $C380
    add  hl, bc
    ld   a, e
    cp   [hl]
    jr   nz, .else_03_58E4

    ifEq [$FFEB], $24, .else_03_58E4

    cp   $09
    jr   z, .else_03_58E8

    call toc_03_59A4
.else_03_58E4:
    call toc_03_7892
    ret


.else_03_58E8:
    ld   a, [wGameMode]
    cp   GAMEMODE_CREDITS
    ret  z

    call toc_03_59F5
    ret


.else_03_58F2:
    call toc_01_27ED
    and  %00011111
    or   %00100000
    ld   [hl], a
    ld   hl, $C290
    add  hl, bc
    ld   [hl], $00
    ld   hl, $C2B0
    add  hl, bc
    ld   a, [hl]
    inc  a
    and  %00000011
    ld   [hl], a
    cp   $00
    jr   nz, .else_03_5912

    call toc_03_7ED0
    jr   .toc_03_5915

.else_03_5912:
    call toc_01_27ED
.toc_03_5915:
    and  %00000011
    ld   hl, $C380
    add  hl, bc
    ld   [hl], a
    ld   e, a
    ld   d, b
    ld   hl, $5876
    add  hl, de
    ld   a, [hl]
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    ld   hl, $587A
    add  hl, de
    ld   a, [hl]
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
    ret


.else_03_5933:
    ld   hl, $C2A0
    add  hl, bc
    ld   a, [hl]
    and  %00001111
    jr   nz, .else_03_5941

    call toc_01_0891
    jr   nz, .else_03_5952

.else_03_5941:
    call toc_01_27ED
    and  %00001111
    or   %00010000
    ld   [hl], a
    ld   hl, $C290
    add  hl, bc
    ld   [hl], $01
    call toc_01_3DAF
.else_03_5952:
    call toc_03_7EF7
    call toc_03_7892
.toc_03_5958:
    ld   hl, $C380
    add  hl, bc
    ld   e, [hl]
    ld   d, b
    ld   hl, $587E
    add  hl, de
    push hl
    ld   hl, $C3D0
    add  hl, bc
    inc  [hl]
    ld   a, [hl]
    rra
    rra
    rra
    pop  hl
    and  %00000001
    or   [hl]
    call toc_01_3B87
    ret


    db   $60, $00, $62, $00, $62, $20, $60, $20
    db   $64, $00, $66, $00, $66, $20, $64, $20
    db   $68, $00, $6A, $00, $6C, $00, $6E, $00
    db   $6A, $20, $68, $20, $6E, $20, $6C, $20
    db   $08, $F8, $04, $FC, $FC, $FC, $F8, $00
    db   $20, $E0, $00, $00, $00, $00, $E0, $20

toc_03_59A4:
    ld   a, $0C
    call toc_03_64F8
    jr   c, .return_03_59E8

    push bc
    ld   a, [$FFD9]
    ld   c, a
    ld   hl, $5994
    add  hl, bc
    ld   a, [$FFD7]
    add  a, [hl]
    ld   hl, $C200
    add  hl, de
    ld   [hl], a
    ld   hl, $5998
    add  hl, bc
    ld   a, [$FFD8]
    add  a, [hl]
    ld   hl, $C210
    add  hl, de
    ld   [hl], a
    ld   hl, $599C
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C240
    add  hl, de
    ld   [hl], a
    ld   hl, $59A0
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C250
    add  hl, de
    ld   [hl], a
    ld   a, [$FFD9]
    ld   hl, $C3B0
    add  hl, de
    ld   [hl], a
    ld   hl, $C380
    add  hl, de
    ld   [hl], a
    pop  bc
.return_03_59E8:
    ret


    db   $08, $F8, $00, $00, $F8, $08, $20, $E0
    db   $00, $00, $E0, $20

toc_03_59F5:
    ld   a, $0A
    call toc_03_64F8
    jr   c, .return_03_5A33

    push bc
    ld   a, [$FFD9]
    ld   hl, $C380
    add  hl, de
    ld   [hl], a
    ld   c, a
    ld   hl, $59E9
    add  hl, bc
    ld   a, [$FFD7]
    add  a, [hl]
    ld   hl, $C200
    add  hl, de
    ld   [hl], a
    ld   hl, $59EB
    add  hl, bc
    ld   a, [$FFD8]
    add  a, [hl]
    ld   hl, $C210
    add  hl, de
    ld   [hl], a
    ld   hl, $59EF
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C240
    add  hl, de
    ld   [hl], a
    ld   hl, $59F1
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C250
    add  hl, de
    ld   [hl], a
    pop  bc
    and  a
.return_03_5A33:
    ret


JumpTable_5A34_03:
    ret


    db   $AA, $10, $AA, $30, $11, $35, $5A, $CD
    db   $3B, $3C, $CD, $91, $08, $CA, $CC, $60
    db   $3D, $20, $1A, $3E, $18, $EA, $68, $D3
    db   $21, $5B, $DB, $34, $21, $93, $DB, $36
    db   $FF, $CD, $E2, $51, $7E, $F6, $20, $77
    db   $E0, $F8, $C3, $B7, $3F

toc_03_5A62:
    ld   a, [hLinkPositionX]
    ld   hl, $C200
    add  hl, bc
    ld   [hl], a
    ld   a, [hLinkPositionY]
    ld   hl, $C210
    add  hl, bc
    sub  a, 12
    ld   [hl], a
    ld   a, [hLinkPositionZHigh]
    ld   hl, $C310
    add  hl, bc
    ld   [hl], a
    assign [hLinkAnimationState], LINK_ANIMATION_STATE_GOT_ITEM
    assign [hLinkDirection], DIRECTION_DOWN
    clear [$C137]
    ld   [$C16A], a
    ld   [$C122], a
    ld   [$C121], a
    ld   hl, $C470
    add  hl, bc
    ld   [hl], a
    assign [hLinkInteractiveMotionBlocked], INTERACTIVE_MOTION_LOCKED_TALKING
    ret


    db   $AC, $00, $AC, $20, $F0, $F8, $E6, $10
    db   $C2, $B7, $3F, $F0, $F0, $C7

    dw JumpTable_5B95_03 ; 00
    dw JumpTable_5AB8_03 ; 01
    dw JumpTable_5AC4_03 ; 02
    dw JumpTable_5ACC_03 ; 03
    dw JumpTable_5AD4_03 ; 04
    dw JumpTable_5AE2_03 ; 05
    dw JumpTable_5B05_03 ; 06
    dw JumpTable_5B3C_03 ; 07
    dw JumpTable_5B53_03 ; 08

JumpTable_5AB8_03:
    call toc_03_5A62
    call toc_01_0891
    jr   nz, .return_03_5AC3

    call JumpTable_3B8D_00
.return_03_5AC3:
    ret


JumpTable_5AC4_03:
    assign [hNeedsUpdatingBGTiles], $03
    call JumpTable_3B8D_00
    ret


JumpTable_5ACC_03:
    assign [hNeedsUpdatingBGTiles], $04
    call JumpTable_3B8D_00
    ret


JumpTable_5AD4_03:
    ld   a, $4F
    call toc_01_2197
    call JumpTable_3B8D_00
    assign [$C1AB], $01
    ret


JumpTable_5AE2_03:
    call toc_03_5A62
    ld   de, $5A98
    call toc_01_3C3B
    call toc_03_5B75
    ld   hl, $C3D0
    add  hl, bc
    inc  [hl]
    ld   a, [hl]
    cp   $A8
    jp   z, JumpTable_3B8D_00

    cp   $38
    jr   nz, .return_03_5B04

    ld   a, [$DB5C]
    inc  a
    ld   [$DB5C], a
.return_03_5B04:
    ret


JumpTable_5B05_03:
    call toc_03_5A62
    ld   de, $5A98
    call toc_01_3C3B
    clear [$C1AB]
    call toc_03_5B75
    _ifZero [wDialogState], .return_03_5B3B

    ifNe [$DB5C], $04, .else_03_5B38

    assign [$FFF2], $19
    clear [$DB5C]
    ld   hl, $DB93
    ld   [hl], $40
    incAddr $DB5B
    ld   a, $50
    call toc_01_2197
.else_03_5B38:
    call JumpTable_3B8D_00
.return_03_5B3B:
    ret


JumpTable_5B3C_03:
    call toc_03_5A62
    ld   de, $5A98
    call toc_01_3C3B
    _ifZero [wDialogState], .return_03_5B52

    assign [hNeedsUpdatingBGTiles], $05
    call JumpTable_3B8D_00
.return_03_5B52:
    ret


JumpTable_5B53_03:
    assign [hNeedsUpdatingBGTiles], $06
    call toc_01_3F7A.else_01_3FB7
    assign [$FFA5], $0D
    jp   toc_03_5115.else_03_51D8

    db   $9A, $00, $9A, $20, $9C, $00, $9A, $20
    db   $9E, $00, $9A, $20, $9E, $00, $9C, $20
    db   $9E, $00, $9E, $20

toc_03_5B75:
    ifNotZero [wDialogState], .return_03_5B94

    and  %10000000
    ld   a, $23
    jr   z, .else_03_5B83

    ld   a, $6B
.else_03_5B83:
    ld   [$FFEC], a
    copyFromTo [$DB5C], [$FFF1]
    assign [$FFEE], $8B
    ld   de, $5B61
    call toc_01_3C3B
.return_03_5B94:
    ret


JumpTable_5B95_03:
    ld   de, $5A98
    call toc_01_3C3B
    jp   toc_03_60CC

    db   $AE, $10, $11, $9E, $5B, $CD, $D0, $3C
    db   $18, $18, $14, $00, $14, $20, $14, $10
    db   $14, $30, $11, $A8, $5B, $CD, $3B, $3C
    db   $F0, $E7, $1F, $1F, $1F, $E6, $01, $CD
    db   $87, $3B, $C3, $CC, $60, $74, $00, $76
    db   $00, $76, $20, $74, $20, $11, $C3, $5B
    db   $CD, $3B, $3C, $CD, $4A, $7F, $CD, $D4
    db   $62, $C9, $86, $10, $84, $10, $11, $D8
    db   $5B, $FA, $4E, $DB, $A7, $20, $0A, $F0
    db   $F8, $E6, $10, $C2, $B7, $3F, $11, $DA
    db   $5B, $CD, $D0, $3C, $F0, $F0, $C7

    dw JumpTable_5BFD_03 ; 00
    dw JumpTable_5C27_03 ; 01
    dw JumpTable_5C46_03 ; 02
    dw JumpTable_5C56_03 ; 03

JumpTable_5BFD_03:
    call toc_01_0891
    jp   z, toc_03_60CC

    cp   $10
    jr   nz, .else_03_5C0E

    dec  [hl]
    ld   a, $9B
    call toc_01_2197
    xor  a
.else_03_5C0E:
    dec  a
    jr   nz, .else_03_5C24

    assign [$D368], $31
    assign [hDefaultMusicTrack], MUSIC_OVERWORLD
    ld   [hNextDefaultMusicTrack], a
    call toc_01_0887
    ld   [hl], $52
    call JumpTable_3B8D_00
.else_03_5C24:
    jp   toc_03_5A62

JumpTable_5C27_03:
    call toc_03_5A62
    call toc_01_0887
    jr   nz, .return_03_5C45

    ld   a, $FF
    call toc_01_3B87
    call toc_01_0891
    ld   [hl], $20
    assign [$C121], $20
    assign [$FFF4], $03
    call JumpTable_3B8D_00
.return_03_5C45:
    ret


JumpTable_5C46_03:
    call toc_01_0891
    jr   nz, .return_03_5C55

    ld   [hl], $20
    ld   a, $00
    call toc_01_3B87
    call JumpTable_3B8D_00
.return_03_5C55:
    ret


JumpTable_5C56_03:
    call toc_03_5A62
    assign [hLinkAnimationState], LINK_ANIMATION_STATE_UNKNOWN_6B
    ld   hl, $C200
    add  hl, bc
    ld   a, [hLinkPositionX]
    sub  a, 4
    ld   [hl], a
    call toc_01_0891
    jr   nz, .else_03_5C7E

    ld   [$C167], a
    ld   d, $01
    call JumpTable_6472_03.toc_03_6497
    assign [$DB4E], $01
    call toc_03_5115.else_03_51D8
    jp   toc_01_3F7A.else_01_3FB7

.else_03_5C7E:
    cp   $1A
    jr   nz, .return_03_5C8D

    ld   a, [$FFEF]
    sub  a, $0C
    call toc_03_6BF9.toc_03_6C51
    assign [$FFF2], $07
.return_03_5C8D:
    ret


    db   $8A, $10, $F0, $F8, $E6, $10, $C2, $B7
    db   $3F, $11, $8E, $5C, $CD, $D0, $3C, $CD
    db   $91, $08, $CA, $CC, $60, $FE, $10, $20
    db   $07, $35, $3E, $93, $CD, $97, $21, $AF
    db   $3D, $20, $0B, $16, $06, $CD, $97, $64
    db   $CD, $D8, $51, $C3, $B7, $3F, $C3, $62
    db   $5A, $CA, $10, $C0, $10, $C2, $10, $C4
    db   $10, $C6, $10, $CA, $10, $00, $A3, $A4
    db   $A5, $00, $CD, $31, $5D, $30, $0B, $21
    db   $CE, $D8, $CB, $E6, $21, $F8, $D9, $CB
    db   $EE, $C9, $F0, $F6, $FE, $80, $CA, $90
    db   $5C, $11, $BF, $5C, $CD, $D0, $3C, $CD
    db   $91, $08, $CA, $1D, $5D, $FE, $10, $20
    db   $1D, $35, $F0, $F1, $3D, $5F, $50, $21
    db   $CB, $5C, $19, $7E, $CD, $97, $21, $F0
    db   $F1, $3D, $5F, $50, $21, $11, $DB, $19
    db   $36, $01, $CD, $D8, $51, $AF, $3D, $20
    db   $03, $C3, $B7, $3F, $C3, $62, $5A, $CD
    db   $4A, $7F, $CD, $D4, $62, $21, $10, $C3
    db   $09, $7E, $A7, $20, $03, $CD, $10, $63
    db   $C3, $D5, $60, $FA, $A5, $DB, $A7, $20
    db   $44, $F0, $F6, $FE, $CE, $20, $3E, $F0
    db   $EF, $D6, $48, $C6, $03, $FE, $06, $30
    db   $34, $F0, $EE, $D6, $50, $C6, $03, $FE
    db   $06, $30, $2A, $21, $10, $C3, $09, $7E
    db   $A7, $20, $22, $21, $80, $C2, $09, $7E
    db   $FE, $05, $20, $19, $36, $02, $21, $B0
    db   $C4, $09, $36, $50, $21, $C0, $C4, $09
    db   $36, $48, $CD, $91, $08, $36, $2F, $3E
    db   $18, $E0, $F2, $37, $C9, $A7, $C9, $A8
    db   $10, $CD, $03, $62, $CD, $AC, $60, $11
    db   $7D, $5D, $CD, $D0, $3C, $C3, $CC, $60
    db   $5E, $00, $5E, $20, $21, $4B, $DB, $FA
    db   $4C, $DB, $B6, $C2, $B7, $3F, $11, $8E
    db   $5D, $CD, $3B, $3C, $CD, $91, $08, $CA
    db   $CC, $60, $FE, $10, $20, $07, $35, $3E
    db   $0F, $CD, $97, $21, $AF, $3D, $20, $11
    db   $3E, $0A, $E0, $A5, $16, $0C, $CD, $97
    db   $64, $3E, $01, $EA, $4B, $DB, $C3, $B7
    db   $3F, $C3, $62, $5A, $70, $00, $72, $00
    db   $74, $00, $76, $00, $78, $00, $7A, $00
    db   $7C, $00, $7E, $00, $21, $B0, $C2, $09
    db   $7E, $C7

    dw JumpTable_5EDA_03 ; 00
    dw JumpTable_5ECA_03 ; 01
    dw JumpTable_5E20_03 ; 02

    db   $E4, $E4, $E4, $E4, $90, $90, $90, $90
    db   $40, $40, $40, $40, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $00, $00, $00
    db   $00, $00, $00, $00, $00, $1C, $1C, $1C
    db   $1C, $1C, $1C, $1C, $1C, $1C, $1C, $1C
    db   $1C, $1C, $1C, $1C, $1C, $08, $08, $08
    db   $08, $04, $04, $04, $04, $00, $00, $00
    db   $00, $00

JumpTable_5E20_03:
    call toc_01_3EA0
    assign [$C167], $01
    call toc_01_0887
    jr   nz, toc_03_5E70

    call toc_01_3F7A.else_01_3FB7
    clear [hLinkAnimationState]
    ld   a, [$D201]
    ld   e, a
    ld   d, b
    ld   hl, $C290
    add  hl, de
    inc  [hl]
    call toc_01_0915.toc_01_092A
    ld   a, [$FFF7]
    jumptable
    dw JumpTable_5E53_03 ; 00
    dw JumpTable_5E59_03 ; 01
    dw JumpTable_5E5F_03 ; 02
    dw JumpTable_5E60_03 ; 03
    dw JumpTable_5E60_03.JumpTable_5E65_03 ; 04
    dw JumpTable_5E66_03 ; 05
    dw JumpTable_5E6B_03 ; 06
    dw JumpTable_5E60_03.JumpTable_5E65_03 ; 07

JumpTable_5E53_03:
    assign [$DB56], $80
    ret


JumpTable_5E59_03:
    assign [$DB48], $02
    ret


JumpTable_5E5F_03:
    ret


JumpTable_5E60_03:
    assign [$DB79], $02
.JumpTable_5E65_03:
    ret


JumpTable_5E66_03:
    clear [$DB74]
    ret


JumpTable_5E6B_03:
    clear [$DB7B]
    ret


toc_03_5E70:
    cp   $50
    jr   nc, .return_03_5EC1

    ld   hl, $C2C0
    add  hl, bc
    ld   a, [hl]
    cp   $19
    jr   nc, .return_03_5EC1

    ld   a, [hFrameCounter]
    and  %00000111
    jr   nz, .else_03_5EA2

    ld   a, [hl]
    and  a
    jr   nz, .else_03_5E8C

    assign [$FFF4], $2C
    xor  a
.else_03_5E8C:
    inc  [hl]
    cp   $18
    jr   nz, .else_03_5EA2

    ld   a, $9F
    call toc_03_64F8
    ld   hl, $C2B0
    add  hl, de
    ld   [hl], $01
    ld   hl, $C2E0
    add  hl, de
    ld   [hl], $60
.else_03_5EA2:
    ld   a, [hFrameCounter]
    and  %00000011
    ld   hl, $C2C0
    add  hl, bc
    add  a, [hl]
    ld   e, a
    ld   d, b
    ld   hl, $5DE6
    add  hl, de
    ld   a, [hl]
    ld   [$DB97], a
    ld   hl, $5E03
    add  hl, de
    ld   a, [hl]
    ld   [$DB98], a
    clear [$DB99]
.return_03_5EC1:
    ret


    db   $6C, $00, $FF, $FF, $6C, $00, $6E, $00

JumpTable_5ECA_03:
    ld   de, $5EC2
    call toc_01_3C3B
    call toc_03_7EF7
    call toc_01_0891
    jp   z, toc_01_3F7A.else_01_3FB7

    ret


JumpTable_5EDA_03:
    ld   a, c
    ld   [$D201], a
    ld   a, [$FFF8]
    and  %00010000
    jp   nz, toc_01_3F7A.else_01_3FB7

    ld   a, [$FFF7]
    and  %00000011
    ld   [$FFF1], a
    call toc_01_380E
    ld   de, $5DCA
    call toc_01_3C3B
    ld   a, [$FFF0]
    jumptable
    dw JumpTable_5F01_03 ; 00
    dw JumpTable_5F38_03 ; 01
    dw JumpTable_5F5F_03 ; 02
    dw JumpTable_5FE8_03 ; 03
    dw JumpTable_5FEB_03 ; 04

JumpTable_5F01_03:
    call toc_01_0891
    jp   z, toc_03_60CC

    cp   $10
    jr   nz, .else_03_5F2A

    dec  [hl]
    call JumpTable_3B8D_00
    ld   a, [$FFF7]
    add  a, $00
    call toc_01_2185
    ld   a, [$FFF7]
    ld   e, a
    ld   d, b
    ld   hl, $DB65
    add  hl, de
    ld   a, [hl]
    or   %00000010
    ld   [hl], a
    call toc_03_51E2
    ld   a, [hl]
    or   %00010000
    ld   [hl], a
    xor  a
.else_03_5F2A:
    dec  a
    jr   nz, .else_03_5F2D

.else_03_5F2D:
    jp   toc_03_5A62

    db   $20, $28, $29, $2A, $2B, $2C, $2D, $2E

JumpTable_5F38_03:
    _ifZero [$D369], .else_03_5F58

    _ifZero [wDialogState], .else_03_5F58

    ld   a, [$FFF7]
    ld   e, a
    ld   d, b
    ld   hl, $5F30
    add  hl, de
    ld   a, [hl]
    ld   [$D368], a
    call JumpTable_3B8D_00
    call toc_01_0891
    ld   [hl], $FF
.else_03_5F58:
    jp   toc_03_5A62

    db   $0A, $FA, $04, $FC

JumpTable_5F5F_03:
    call toc_01_0891
    jr   nz, .else_03_5F8B

    assign [$FFF2], $2B
    ld   a, $39
    call toc_03_64F8
    ld   a, [$FFD7]
    dec  a
    ld   hl, $C200
    add  hl, de
    ld   [hl], a
    ld   a, [$FFD8]
    ld   hl, $C210
    add  hl, de
    ld   [hl], a
    ld   hl, $C2B0
    add  hl, de
    ld   [hl], $02
    ld   hl, $C450
    add  hl, de
    ld   [hl], $80
    jp   JumpTable_3B8D_00

.else_03_5F8B:
    ld   hl, $C2D0
    add  hl, bc
    dec  [hl]
    ld   a, [hl]
    cp   $FF
    jr   nz, .else_03_5FE5

    ld   [hl], $17
    ld   hl, $C440
    add  hl, bc
    inc  [hl]
    ld   a, [hl]
    and  %00000001
    ld   [$FFE8], a
    ld   a, $39
    call toc_03_64F8
    push bc
    ld   hl, $C2B0
    add  hl, de
    inc  [hl]
    ld   a, [$FFE8]
    ld   c, a
    ld   hl, $5F5B
    add  hl, bc
    ld   a, [$FFD7]
    add  a, [hl]
    ld   hl, $C200
    add  hl, de
    ld   [hl], a
    ld   hl, $5F5D
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C240
    add  hl, de
    ld   [hl], a
    ld   a, [$FFD8]
    ld   hl, $C210
    add  hl, de
    add  a, $F8
    ld   [hl], a
    ld   hl, $C250
    add  hl, de
    ld   [hl], $FD
    ld   hl, $C2E0
    add  hl, de
    ld   [hl], $38
    call toc_01_27ED
    and  %00000001
    ld   hl, $C3B0
    add  hl, de
    ld   [hl], a
    pop  bc
.else_03_5FE5:
    jp   toc_03_5A62

JumpTable_5FE8_03:
    jp   toc_03_5A62

JumpTable_5FEB_03:
    ret


    db   $80, $10, $CD, $03, $62, $CD, $AC, $60
    db   $11, $EC, $5F, $CD, $D0, $3C, $C3, $CC
    db   $60, $9E, $10, $FA, $4E, $DB, $FE, $02
    db   $D2, $B7, $3F, $F0, $F8, $E6, $10, $C2
    db   $B7, $3F, $F0, $F6, $FE, $E3, $20, $07
    db   $F0, $F8, $E6, $40, $CA, $B7, $3F, $CD
    db   $03, $62, $11, $FD, $5F, $CD, $D0, $3C
    db   $C3, $CC, $60, $CA, $10, $F0, $F8, $E6
    db   $10, $C2, $B7, $3F, $CD, $03, $62, $11
    db   $27, $60, $CD, $D0, $3C, $CD, $91, $08
    db   $CA, $CC, $60, $FE, $10, $20, $35, $35
    db   $FA, $A5, $DB, $A7, $20, $0B, $F0, $F6
    db   $FE, $C6, $20, $05, $3E, $05, $EA, $15
    db   $DB, $21, $15, $DB, $CD, $98, $63, $CD
    db   $D8, $51, $21, $F8, $FF, $CB, $A6, $1E
    db   $A2, $FA, $15, $DB, $FE, $06, $28, $07
    db   $1E, $E8, $FE, $05, $20, $01, $1C, $7B
    db   $CD, $97, $21, $AF, $3D, $20, $03, $C3
    db   $B7, $3F, $C3, $62, $5A, $8E, $10, $FA
    db   $4B, $DB, $A7, $C2, $B7, $3F, $CD, $03
    db   $62, $CD, $AC, $60, $11, $81, $60, $CD
    db   $D0, $3C, $C3, $CC, $60, $2A, $40, $2A
    db   $60, $CD, $03, $62, $CD, $AC, $60, $11
    db   $99, $60, $CD, $3B, $3C, $C3, $CC, $60
    db   $CD, $87, $08, $FE, $1C, $30, $0A, $A7
    db   $CA, $B7, $3F, $E6, $01, $3D, $CD, $87
    db   $3B, $C9, $A6, $10, $CD, $03, $62, $CD
    db   $AC, $60, $11, $BE, $60, $CD, $D0, $3C

toc_03_60CC:
    call toc_03_7F4A
    call toc_03_62D4
    call toc_03_6310
.toc_03_60D5:
    call toc_03_7EF7
    call toc_03_6B96
    call toc_03_7892
    ifNotZero [$FFF9], .else_03_6105

    ld   hl, $C2A0
    add  hl, bc
    ld   a, [hl]
    and  %00001000
    jp   z, .return_03_6178

    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    and  %11110000
    add  a, $05
    ld   [hl], a
    ld   hl, $C250
    add  hl, bc
    ld   a, [hl]
    cpl
    sra  a
    cp   $F8
    jr   c, .else_03_6134

    jr   .else_03_6125

.else_03_6105:
    ld   hl, $C310
    add  hl, bc
    ld   a, [hl]
    and  %10000000
    jr   z, toc_03_60CC.return_03_6178

    xor  a
    ld   [hl], a
    ld   hl, $C470
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C320
    add  hl, bc
    cp   $02
    jr   z, toc_03_60CC.else_03_6125

    ld   a, [hl]
    sra  a
    cpl
    cp   $07
    jr   nc, toc_03_60CC.else_03_6134

.else_03_6125:
    xor  a
    push hl
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
    pop  hl
    jr   toc_03_60CC.toc_03_6158

.else_03_6134:
    push af
    push hl
    ifNe [$FFEB], $30, toc_03_60CC.else_03_6142

    assign [$FFF4], $17
    jr   toc_03_60CC.else_03_6156

.else_03_6142:
    cp   $02
    jr   nz, toc_03_60CC.else_03_6156

    ld   hl, $C280
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, toc_03_60CC.else_03_6156

    cp   $02
    jr   z, toc_03_60CC.else_03_6156

    assign [$FFF2], $09
.else_03_6156:
    pop  hl
    pop  af
.toc_03_6158:
    ld   [hl], a
    ld   hl, $C240
    add  hl, bc
    ld   a, [hl]
    sra  a
    cp   $FF
    jr   nz, toc_03_60CC.else_03_6165

    xor  a
.else_03_6165:
    ld   [hl], a
    _ifZero [$FFF9], toc_03_60CC.return_03_6178

    ld   hl, $C250
    add  hl, bc
    ld   a, [hl]
    sra  a
    cp   $FF
    jr   nz, toc_03_60CC.else_03_6177

    xor  a
.else_03_6177:
    ld   [hl], a
.return_03_6178:
    ret


    db   $20, $20, $20, $00, $CD, $03, $62, $CD
    db   $AC, $60, $11, $79, $61, $CD, $D0, $3C
    db   $CD, $4A, $7F, $CD, $D4, $62, $CD, $10
    db   $63, $21, $40, $C2, $09, $7E, $07, $E6
    db   $01, $CD, $87, $3B, $CD, $F7, $7E, $CD
    db   $E5, $61, $CD, $92, $78, $CD, $AB, $7E
    db   $7A, $CB, $7F, $28, $00, $FE, $20, $38
    db   $0C, $CD, $BB, $7E, $7A, $CB, $7F, $28
    db   $00, $FE, $20, $30, $21, $CD, $91, $08
    db   $20, $21, $36, $30, $CD, $ED, $27, $E6
    db   $0F, $D6, $08, $21, $40, $C2, $09, $77
    db   $CD, $ED, $27, $E6, $0F, $D6, $08, $21
    db   $50, $C2, $09, $77, $18, $05, $3E, $09
    db   $CD, $99, $7E, $C9, $F0, $E7, $E6, $03
    db   $20, $17, $21, $10, $C3, $09, $7E, $FE
    db   $10, $28, $0E, $CB, $7F, $28, $03, $34
    db   $18, $07, $FE, $10, $30, $02, $34, $C9
    db   $35, $C9, $21, $D0, $C2, $09, $7E, $A7
    db   $CA, $C2, $62, $FA, $24, $C1, $A7, $C2
    db   $C1, $62, $7E, $FE, $02, $20, $50, $F0
    db   $EB, $FE, $3D, $28, $07, $FA, $A5, $DB
    db   $A7, $C2, $C1, $62, $CD, $E0, $7D, $F0
    db   $EB, $FE, $2D, $28, $1E, $FE, $3D, $20
    db   $22, $F0, $F6, $FE, $DA, $28, $1C, $FE
    db   $A5, $28, $18, $FE, $74, $28, $14, $FE
    db   $3A, $28, $10, $FE, $A8, $28, $0C, $FE
    db   $B2, $28, $08, $F0, $AF, $FE, $04, $28
    db   $0E, $18, $06, $21, $40, $C4, $09, $36
    db   $01, $F0, $AF, $FE, $CC, $20, $61, $21
    db   $30, $C4, $09, $36, $0A, $18, $28, $FA
    db   $57, $C1, $A7, $28, $53, $FA, $78, $C1
    db   $A7, $28, $4D, $F0, $EE, $C6, $08, $21
    db   $79, $C1, $96, $C6, $10, $FE, $20, $30
    db   $3F, $F0, $EF, $C6, $08, $21, $7A, $C1
    db   $96, $C6, $10, $FE, $20, $30, $31, $21
    db   $D0, $C2, $09, $70, $21, $40, $C4, $09
    db   $70, $CD, $8C, $08, $36, $18, $3E, $0C
    db   $CD, $17, $7E, $F0, $D8, $2F, $3C, $21
    db   $40, $C2, $09, $77, $F0, $D7, $2F, $3C
    db   $21, $50, $C2, $09, $77, $21, $20, $C3
    db   $09, $36, $20, $CD, $87, $08, $36, $80
    db   $F1, $C9, $01, $01, $00, $00, $01, $00
    db   $01, $01, $00, $00, $01, $01, $00, $00
    db   $01, $00, $00

toc_03_62D4:
    ld   hl, $C390
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .return_03_630F

    pop  de
    dec  a
    ld   e, a
    ld   d, b
    ld   hl, $C280
    add  hl, de
    ld   a, [hl]
    and  a
    jr   z, toc_03_6310.toc_03_6336

    ld   hl, $C3A0
    add  hl, de
    ld   a, [hl]
    cp   $01
    jr   z, .else_03_62F5

    cp   $03
    jr   nz, toc_03_6310.toc_03_6336

.else_03_62F5:
    ld   hl, $C200
    add  hl, de
    ld   a, [hl]
    ld   hl, $C200
    add  hl, bc
    ld   [hl], a
    ld   hl, $C210
    add  hl, de
    ld   a, [hl]
    ld   hl, $C210
    add  hl, bc
    ld   [hl], a
    xor  a
    ld   hl, $C310
    add  hl, bc
    ld   [hl], a
.return_03_630F:
    ret


toc_03_6310:
    call toc_01_088C
    jr   nz, toc_03_62D4.return_03_630F

    ld   a, [$FFEB]
    sub  a, $2D
    ld   e, a
    ld   d, b
    ld   hl, $62C3
    add  hl, de
    ld   a, [hl]
    and  a
    jr   z, .else_03_6331

    ld   hl, $C410
    add  hl, bc
    ld   a, [hl]
    push af
    push hl
    ld   [hl], b
    call toc_03_6E3D.toc_03_6E40
    pop  hl
    pop  af
    ld   [hl], a
.else_03_6331:
    call toc_03_6C87
    jr   nc, toc_03_62D4.return_03_630F

.toc_03_6336:
    ld   hl, $C460
    add  hl, bc
    ld   a, [hl]
    call toc_01_3F7A.toc_01_3FA2
    ld   a, [$FFEB]
    sub  a, $2D
    cp   $02
    jr   nc, .else_03_634D

    ld   hl, $FFF2
    ld   [hl], $14
    jr   .toc_03_6352

.else_03_634D:
    ld   hl, $FFF3
    ld   [hl], $01
.toc_03_6352:
    jumptable
    dw JumpTable_64E5_03 ; 00
    dw JumpTable_64ED_03 ; 01
    dw JumpTable_64F4_03 ; 02
    dw JumpTable_64B4_03 ; 03
    dw JumpTable_6472_03 ; 04
    dw JumpTable_6421_03.JumpTable_6471_03 ; 05
    dw JumpTable_6421_03 ; 06
    dw JumpTable_641B_03 ; 07
    dw JumpTable_6409_03 ; 08
    dw JumpTable_63D5_03 ; 09
    dw JumpTable_63A2_03 ; 0A
    dw JumpTable_63AA_03 ; 0B
    dw JumpTable_63B7_03 ; 0C
    dw JumpTable_63EC_03 ; 0D
    dw JumpTable_6375_03 ; 0E
    dw JumpTable_63EC_03 ; 0F
    dw JumpTable_638D_03 ; 10

JumpTable_6375_03:
    assign [$FFA5], $0B
    ld   d, $0C
    call JumpTable_6472_03.toc_03_6497
    ld   hl, $DB76
    ld   de, $DB4C
.toc_03_6384:
    ld   a, [de]
    cp   [hl]
    jr   nc, .return_03_638C

    add  a, $01
    daa
    ld   [de], a
.return_03_638C:
    ret


JumpTable_638D_03:
    ld   a, $EF
    call toc_01_2197
.toc_03_6392:
    call toc_03_5115.else_03_51D8
    ld   hl, $DB0F
    ld   a, [hl]
    cp   $99
    jr   z, .return_03_63A1

    add  a, $01
    daa
    ld   [hl], a
.return_03_63A1:
    ret


JumpTable_63A2_03:
    ld   hl, $DB78
    ld   de, $DB45
    jr   JumpTable_6375_03.toc_03_6384

JumpTable_63AA_03:
    ld   d, $02
    call JumpTable_6472_03.toc_03_6497
    ld   hl, $DB77
    ld   de, $DB4D
    jr   JumpTable_6375_03.toc_03_6384

JumpTable_63B7_03:
    clear [$D46C]
    ld   [$C3CB], a
    assign [$D368], $1B
    ld   [$C167], a
.toc_03_63C6:
    ld   a, [hLinkPositionX]
    push af
    add  a, 4
    ld   [hLinkPositionX], a
    call JumpTable_6421_03.toc_03_6443
    pop  af
    ld   [hLinkPositionX], a
    jr   toc_03_63F7

JumpTable_63D5_03:
    clear [$D47C]
    assign [$D368], $25
    ld   [$D46C], a
    call toc_01_0891
    ld   a, $70
    ld   [hl], a
    ld   [$C111], a
    jr   toc_03_63F7.toc_03_6400

JumpTable_63EC_03:
    assign [$D368], $10
    jr   toc_03_63F7

    db   $3E, $01, $E0, $F2

toc_03_63F7:
    call toc_01_0891
    ld   a, $68
    ld   [hl], a
    ld   [$C111], a
.toc_03_6400:
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $05
    jp   toc_01_093B

JumpTable_6409_03:
    assign [$D368], $10
    call JumpTable_3B8D_00
    jr   toc_03_63F7.toc_03_6400

    db   $E4, $14, $E4, $14, $D4, $D4, $04, $04

JumpTable_641B_03:
    ld   a, $02
    ld   e, $05
    jr   JumpTable_6421_03.toc_03_6425

JumpTable_6421_03:
    ld   a, $01
    ld   e, $01
.toc_03_6425:
    ld   [$D47C], a
    ld   a, e
    ld   [$C1A9], a
    assign [$C1AA], $30
    ld   [$C111], a
    clear [$D47A]
    assign [$D368], $27
    assign [$FFBD], MUSIC_ACTIVE_POWER_UP
    ld   [hNextDefaultMusicTrack], a
.toc_03_6443:
    ld   e, $03
    ld   d, $00
.loop_03_6447:
    push de
    ld   hl, $6413
    add  hl, de
    ld   a, [hLinkPositionX]
    add  a, [hl]
    ld   [$FFD7], a
    ld   hl, $6417
    add  hl, de
    ld   a, [hLinkPositionY]
    add  a, [hl]
    ld   [$FFD8], a
    ld   a, $07
    call toc_01_0953
    ld   hl, $C520
    add  hl, de
    ld   [hl], $22
    ld   hl, $C590
    add  hl, de
    pop  de
    ld   [hl], e
    dec  e
    ld   a, e
    cp   $FF
    jr   nz, .loop_03_6447

.JumpTable_6471_03:
    ret


JumpTable_6472_03:
    _ifZero [$DB4E], .else_03_648D

    assign [$D368], $0F
    ld   [$C167], a
    call JumpTable_63B7_03.toc_03_63C6
    call toc_01_0891
    ld   [hl], $A0
    assign [hNextDefaultMusicTrack], MUSIC_SILENCE
    ret


.else_03_648D:
    ld   hl, $C2B0
    add  hl, bc
    ld   a, [hl]
    ld   [$DB44], a
    ld   d, $04
.toc_03_6497:
    ld   hl, $DB00
    ld   e, $0C
.loop_03_649C:
    ldi  a, [hl]
    cp   d
    jr   z, .return_03_64B3

    dec  e
    jr   nz, .loop_03_649C

    ld   hl, $DB00
.loop_03_64A6:
    ld   a, [hl]
    and  a
    jr   nz, .else_03_64AC

    ld   [hl], d
    ret


.else_03_64AC:
    inc  hl
    inc  e
    ld   a, e
    cp   $0C
    jr   nz, JumpTable_6472_03.loop_03_64A6

.return_03_64B3:
    ret


JumpTable_64B4_03:
    ifNe [$FFF6], $80, .else_03_64C2

    assign [$D368], $10
    jp   toc_03_63F7

.else_03_64C2:
    ifNe [$FFF6], $7C, .else_03_64CD

    ld   hl, $D969
    set  4, [hl]
.else_03_64CD:
    ifNotZero [$FFF1], .else_03_64DA

    assign [$D368], $10
    jp   toc_03_63F7

.else_03_64DA:
    call toc_03_5115.else_03_51D8
    incAddr $DBD0
    call toc_01_27E2
    ret


JumpTable_64E5_03:
    ld   a, $08
.toc_03_64E7:
    ld   hl, $DB93
.toc_03_64EA:
    add  a, [hl]
    ld   [hl], a
    ret


JumpTable_64ED_03:
    ld   a, $01
    ld   hl, $DB90
    jr   JumpTable_64E5_03.toc_03_64EA

JumpTable_64F4_03:
    ld   a, $30
    jr   JumpTable_64E5_03.toc_03_64E7

toc_03_64F8:
    ld   e, $0F
.toc_03_64FA:
    push af
    ld   d, $00
.loop_03_64FD:
    ld   hl, $C280
    add  hl, de
    ld   a, [hl]
    and  a
    jr   z, .else_03_650E

    dec  e
    ld   a, e
    cp   $FF
    jr   nz, .loop_03_64FD

    pop  af
    scf
    ret


.else_03_650E:
    ld   [hl], $05
    pop  af
    ld   hl, $C3A0
    add  hl, de
    ld   [hl], a
    ld   hl, $C200
    add  hl, bc
    ld   a, [hl]
    ld   [$FFD7], a
    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    ld   [$FFD8], a
    ld   hl, $C380
    add  hl, bc
    ld   a, [hl]
    ld   [$FFD9], a
    ld   hl, $C310
    add  hl, bc
    ld   a, [hl]
    ld   [$FFDA], a
    call toc_03_6552
    ld   hl, $C410
    add  hl, de
    ld   [hl], $01
    ld   hl, $C220
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C220
    add  hl, de
    ld   [hl], a
    ld   hl, $C230
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C230
    add  hl, de
    ld   [hl], a
    scf
    ccf
    ret


toc_03_6552:
    push bc
    push de
    push de
    pop  bc
    call toc_03_48B0
    pop  de
    pop  bc
    ret


    db   $80, $10, $F8, $F8, $32, $00, $F8, $00
    db   $32, $20, $F8, $08, $32, $00, $F8, $10
    db   $32, $20, $08, $F8, $32, $00, $08, $00
    db   $32, $20, $08, $08, $32, $00, $08, $10
    db   $32, $20, $F8, $F8, $10, $00, $F8, $00
    db   $12, $00, $F8, $08, $12, $20, $F8, $10
    db   $10, $20, $08, $F8, $10, $40, $08, $00
    db   $12, $40, $08, $08, $12, $60, $08, $10
    db   $10, $60, $FC, $FC, $30, $10, $FC, $04
    db   $30, $30, $FC, $04, $30, $10, $FC, $0C
    db   $30, $30, $04, $FC, $30, $10, $04, $04
    db   $30, $30, $04, $04, $30, $10, $04, $0C
    db   $30, $30, $FC, $FC, $30, $00, $FC, $04
    db   $30, $20, $FC, $04, $30, $00, $FC, $0C
    db   $30, $20, $04, $FC, $30, $00, $04, $04
    db   $30, $20, $04, $04, $30, $00, $04, $0C
    db   $30, $20, $21, $B0, $C3, $09, $7E, $CB
    db   $27, $CB, $27, $CB, $27, $CB, $27, $CB
    db   $27, $5F, $50, $21, $5E, $65, $19, $0E
    db   $08, $CD, $26, $3D, $C9, $00, $00, $00
    db   $00, $00, $00, $00, $00, $01, $01, $01
    db   $01, $01, $01, $01, $01, $02, $02, $02
    db   $02, $03, $03, $03, $03, $CD, $7F, $66
    db   $CD, $4A, $7F, $CD, $91, $08, $A7, $C2
    db   $21, $66, $C3, $B7, $3F, $5F, $21, $40
    db   $C4, $09, $7E, $FE, $4C, $7B, $CA, $7E
    db   $66, $FE, $0E, $38, $12, $FE, $17, $30
    db   $0E, $F5, $D6, $0E, $5F, $50, $D5, $CD
    db   $1C, $69, $D1, $CD, $8D, $67, $F1, $FE
    db   $12, $20, $37, $21, $40, $C4, $09, $7E
    db   $A7, $20, $05, $CD, $D8, $77, $18, $25
    db   $F0, $EE, $21, $98, $FF, $96, $C6, $18
    db   $FE, $30, $30, $19, $F0, $EF, $21, $99
    db   $FF, $96, $C6, $18, $FE, $30, $30, $0D
    db   $CD, $F1, $6C, $21, $9A, $FF, $CB, $26
    db   $21, $9B, $FF, $CB, $26, $3E, $04, $EA
    db   $02, $C5, $C9, $CD, $91, $08, $5F, $50
    db   $21, $F9, $65, $19, $7E, $CD, $87, $3B
    db   $21, $40, $C3, $09, $7E, $E6, $F0, $F6
    db   $08, $77, $CD, $DE, $65, $FA, $A5, $DB
    db   $A7, $28, $15, $1E, $E4, $FA, $24, $C1
    db   $A7, $20, $09, $CD, $91, $08, $E6, $04
    db   $28, $02, $1E, $84, $21, $97, $DB, $73
    db   $C9, $11, $EA, $54, $CD, $3B, $3C, $CD
    db   $4A, $7F, $C9, $F0, $EC, $C6, $10, $FE
    db   $A0, $D2, $B7, $3F, $CD, $91, $08, $FE
    db   $18, $DA, $11, $66, $20, $04, $35, $CD
    db   $D7, $08, $21, $4E, $C1, $34, $FE, $22
    db   $38, $D7, $FE, $48, $20, $06, $21, $20
    db   $C4, $09, $36, $30, $CD, $3D, $67, $CD
    db   $31, $5D, $CD, $4A, $7F, $CD, $D5, $60
    db   $21, $00, $C3, $09, $36, $FF, $CD, $8C
    db   $08, $21, $40, $C4, $09, $B6, $20, $1F
    db   $FA, $00, $DB, $FE, $02, $20, $08, $F0
    db   $CC, $E6, $20, $20, $0F, $18, $10, $FA
    db   $01, $DB, $FE, $02, $20, $09, $F0, $CC
    db   $E6, $10, $28, $03, $CD, $EA, $4E

toc_03_6723:
    ld   hl, $C2A0
    add  hl, bc
    ld   a, [hl]
    and  %00000011
    jr   z, .else_03_672F

    call toc_03_6B4F
.else_03_672F:
    _ifZero [$FFF9], .return_03_673C

    ld   a, [hl]
    and  %00001100
    jr   z, .return_03_673C

    call toc_03_6B5E
.return_03_673C:
    ret


toc_03_673D:
    incAddr $FFEC
    inc  [hl]
    ld   de, $655C
    call toc_01_3CD0
    jp   toc_01_3DBA

    db   $F8, $08, $18, $F8, $08, $18, $F8, $08
    db   $18, $F8, $F8, $F8, $08, $08, $08, $18
    db   $18, $18, $48, $48, $00, $90, $00, $70
    db   $38, $38, $3D, $3D, $3E, $3E, $72, $72
    db   $73, $73, $69, $79, $69, $79, $64, $66
    db   $65, $67, $04, $08, $02, $01, $08, $04
    db   $01, $02, $F8, $08, $FF, $01, $72, $73
    db   $73, $72, $00, $10, $F0, $10, $00, $00
    db   $10, $00, $F0, $F9, $A7, $C2, $C5, $68
    db   $C5, $21, $00, $C2, $09, $7E, $D6, $08
    db   $21, $4B, $67, $19, $86, $E6, $F0, $E0
    db   $CE, $CB, $37, $21, $10, $C2, $09, $4F
    db   $7E, $D6, $10, $21, $54, $67, $19, $86
    db   $E6, $F0, $E0, $CD, $B1, $4F, $06, $00
    db   $21, $11, $D7, $7C, $09, $67, $79, $E0
    db   $E9, $7E, $E0, $AF, $5F, $FE, $BB, $38
    db   $5C, $FE, $BF, $30, $58, $FA, $A5, $DB
    db   $A7, $20, $52, $3E, $02, $E0, $F2, $F0
    db   $CD, $E6, $E0, $E0, $CD, $F0, $CE, $E6
    db   $E0, $E0, $CE, $CD, $CE, $68, $79, $E6
    db   $EE, $4F, $21, $11, $D7, $09, $3E, $09
    db   $22, $32, $7D, $C6, $10, $6F, $3E, $09
    db   $22, $36, $09, $0E, $03, $06, $00, $CD
    db   $22, $68, $21, $85, $67, $09, $7E, $21
    db   $CE, $FF, $86, $77, $21, $89, $67, $09
    db   $7E, $21, $CD, $FF, $86, $77, $0D, $79
    db   $FE, $FF, $20, $E3, $C3, $C4, $68, $11
    db   $81, $67, $C3, $52, $68, $FA, $A5, $DB
    db   $57, $CD, $DB, $29, $D6, $99, $DA, $C4
    db   $68, $FE, $04, $D2, $C4, $68, $4F, $3E
    db   $02, $E0, $F2, $FA, $A5, $DB, $A7, $20
    db   $21, $C1, $F0, $E9, $5F, $50, $21, $11
    db   $D7, $19, $36, $E1, $11, $71, $67, $D5
    db   $21, $00, $D8, $F0, $F6, $5F, $16, $00
    db   $19, $7E, $F6, $04, $77, $E0, $F8, $C3
    db   $7A, $52, $21, $00, $D9, $F0, $F6, $5F
    db   $16, $00, $F0, $F7, $FE, $1A, $30, $05
    db   $FE, $06, $38, $01, $14, $19, $E5, $D1
    db   $21, $75, $67, $09, $1A, $B6, $12, $E0
    db   $F8, $21, $7D, $67, $09, $FA, $AE, $DB
    db   $86, $5F, $16, $00, $CD, $25, $2B, $E5
    db   $D1, $21, $79, $67, $09, $1A, $B6, $12
    db   $F0, $CE, $CB, $37, $E6, $0F, $5F, $F0
    db   $CD, $E6, $F0, $B3, $5F, $16, $00, $21
    db   $11, $D7, $19, $E5, $D1, $21, $65, $67
    db   $09, $7E, $12, $79, $17, $E6, $04, $4F
    db   $21, $69, $67, $09, $C1, $E5, $C3, $7A
    db   $52, $C1, $C9, $08, $18, $08, $18, $10
    db   $10, $20, $20, $C5, $0E, $03, $06, $00
    db   $3E, $05, $CD, $F8, $64, $38, $28, $21
    db   $F0, $C2, $19, $36, $0F, $F0, $CE, $21
    db   $C6, $68, $09, $86, $21, $00, $C2, $19
    db   $77, $F0, $CD, $21, $CA, $68, $09, $86
    db   $21, $DA, $FF, $96, $21, $10, $C2, $19
    db   $77, $21, $40, $C3, $19, $36, $C4, $0D
    db   $79, $FE, $FF, $20, $CB, $C1, $C9, $F8
    db   $08, $18, $F8, $08, $18, $F8, $08, $18
    db   $F8, $F8, $F8, $08, $08, $08, $18, $18
    db   $18, $C5, $21, $0A, $69, $19, $F0, $EE
    db   $86, $D6, $08, $E6, $F0, $E0, $CE, $CB
    db   $37, $4F, $21, $13, $69, $19, $F0, $EC
    db   $86, $D6, $10, $E6, $F0, $E0, $CD, $B1
    db   $5F, $21, $11, $D7, $19, $7C, $FE, $D7
    db   $C2, $BB, $69, $FA, $A5, $DB, $A7, $7E
    db   $E0, $AF, $20, $11, $E0, $E9, $FE, $0A
    db   $28, $2A, $FE, $D3, $28, $26, $FE, $5C
    db   $28, $22, $C3, $BB, $69, $FE, $A9, $C2
    db   $BB, $69, $F0, $F6, $4F, $06, $00, $F0
    db   $F7, $FE, $1A, $30, $05, $FE, $06, $38
    db   $01, $04, $21, $00, $D9, $09, $7E, $F6
    db   $40, $77, $E0, $F8, $CD, $A6, $20, $3E
    db   $05, $CD, $F8, $64, $38, $32, $AF, $EA
    db   $9B, $C1, $21, $00, $C2, $19, $F0, $CE
    db   $C6, $08, $77, $21, $10, $C2, $19, $F0
    db   $CD, $C6, $10, $77, $21, $B0, $C3, $19
    db   $FA, $A5, $DB, $EE, $01, $77, $E0, $F1
    db   $F0, $E9, $FE, $0A, $20, $05, $3E, $FF
    db   $77, $E0, $F1, $D5, $C1, $CD, $41, $54
    db   $C1, $C9, $6C, $74, $6D, $75, $36, $00
    db   $36, $20, $36, $10, $36, $30, $21, $4D
    db   $C1, $34, $3E, $0A, $EA, $9E, $C1, $CD
    db   $A6, $75, $F0, $E7, $1F, $1F, $1F, $E6
    db   $01, $21, $B0, $C3, $09, $77, $CD, $8C
    db   $08, $28, $0A, $3D, $CA, $B7, $3F, $11
    db   $1E, $4D, $C3, $3B, $3C, $11, $C1, $69
    db   $CD, $F2, $6A, $CD, $4A, $7F, $FA, $A5
    db   $DB, $A7, $F0, $AF, $28, $06, $FE, $8A
    db   $28, $0A, $18, $2D, $FE, $D3, $28, $04
    db   $FE, $5C, $20, $25, $21, $A0, $C2, $09
    db   $70, $CD, $8C, $08, $70, $F0, $E9, $5F
    db   $50, $CD, $A6, $20, $F0, $CE, $C6, $08
    db   $E0, $D7, $F0, $CD, $C6, $10, $E0, $D8
    db   $3E, $08, $CD, $53, $09, $3E, $13, $E0
    db   $F4, $C9, $6C, $00, $6C, $20, $5C, $00
    db   $5C, $20, $CD, $91, $08, $20, $03, $CD
    db   $F9, $6B, $11, $35, $6A, $C3, $F2, $6A
    db   $21, $4D, $C1, $34, $F0, $F0, $A7, $20
    db   $37, $CD, $91, $08, $C2, $EF, $6A, $3E
    db   $05, $EA, $9E, $C1, $CD, $A6, $75, $CD
    db   $EF, $6A, $F0, $F1, $FE, $02, $20, $15
    db   $FA, $8E, $C1, $E6, $1F, $FE, $0F, $20
    db   $0C, $F0, $AF, $FE, $C0, $20, $06, $CD
    db   $EC, $08, $CD, $B7, $3F, $C9, $80, $10
    db   $04, $FC, $00, $00, $FE, $FE, $FA, $04
    db   $CD, $91, $08, $28, $21, $3E, $02, $CD
    db   $F8, $64, $38, $17, $F0, $D7, $21, $00
    db   $C2, $19, $77, $F0, $D8, $21, $10, $C2
    db   $19, $77, $21, $E0, $C2, $19, $36, $17
    db   $CD, $D7, $08, $C3, $B7, $3F, $F0, $F1
    db   $F5, $5F, $50, $AF, $E0, $F1, $21, $83
    db   $6A, $19, $F0, $EE, $86, $E0, $EE, $21
    db   $87, $6A, $19, $F0, $EC, $86, $E0, $EC
    db   $11, $81, $6A, $CD, $D0, $3C, $CD, $BA
    db   $3D, $F1, $E0, $F1, $11, $E1, $6B, $CD
    db   $3B, $3C, $3E, $0C, $EA, $9E, $C1, $CD
    db   $A6, $75, $18, $0E, $CD, $91, $08, $20
    db   $03, $CD, $F9, $6B, $11, $E1, $6B, $CD
    db   $3B, $3C, $CD, $4A, $7F, $CD, $91, $08
    db   $20, $6A, $CD, $F7, $7E, $CD, $AA, $7C
    db   $21, $A0, $C2, $09, $7E, $A7, $28, $52
    db   $CD, $91, $08, $F0, $EB, $FE, $04, $20
    db   $06, $CD, $8C, $08, $36, $30, $C9, $36
    db   $18, $21, $20, $C3, $09, $36, $10, $21
    db   $A0, $C2, $09, $7E, $3C, $28, $04, $3E
    db   $07, $E0, $F2, $CD, $DC, $08, $F0, $EB
    db   $FE, $00, $20, $15, $CD, $47, $6B, $21
    db   $40, $C2, $09, $7E, $2F, $3C, $CB, $2F
    db   $CB, $2F, $77, $C9, $21, $50, $C2, $18
    db   $F1, $CD, $5E, $6B

toc_03_6B4F:
    ld   hl, $C240
.toc_03_6B52:
    add  hl, bc
    ld   a, [hl]
    cpl
    inc  a
    sra  a
    sra  a
    sra  a
    ld   [hl], a
    ret


toc_03_6B5E:
    ld   hl, $C250
    jr   toc_03_6B4F.toc_03_6B52

    db   $00, $03, $01, $02, $FE, $01, $20, $03
    db   $C3, $B7, $3F, $F0, $EB, $FE, $0A, $28
    db   $15, $CD, $91, $08, $CB, $3F, $CB, $3F
    db   $CB, $3F, $E6, $03, $5F, $50, $21, $63
    db   $6B, $19, $7E, $CD, $87, $3B, $CD, $F7
    db   $7E, $18, $08, $02, $01, $02, $02, $40
    db   $08, $40, $40

toc_03_6B96:
    _ifZero [$FFF9], .else_03_6BA7

    call toc_03_7F30
    ld   hl, $C320
    add  hl, bc
    ld   a, [hl]
    sub  a, $02
    ld   [hl], a
    ret


.else_03_6BA7:
    ld   hl, $C470
    add  hl, bc
    ld   a, [hl]
    ld   e, a
    ld   d, b
    and  a
    jr   z, .else_03_6BC6

    ld   a, [hFrameCounter]
    and  %00000111
    jr   nz, .else_03_6BC6

    ld   hl, $C240
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .else_03_6BC6

    and  %10000000
    jr   z, .else_03_6BC5

    inc  [hl]
    inc  [hl]
.else_03_6BC5:
    dec  [hl]
.else_03_6BC6:
    ld   hl, $6B8E
    add  hl, de
    ld   a, [hl]
    ld   hl, $C250
    add  hl, bc
    add  a, [hl]
    ld   [hl], a
    ld   hl, $6B92
    add  hl, de
    sub  a, [hl]
    and  %10000000
    jr   nz, .return_03_6BE0

    ld   a, [hl]
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
.return_03_6BE0:
    ret


    db   $2E, $20, $2C, $20, $2C, $00, $2E, $00
    db   $2A, $40, $2A, $60, $2A, $00, $2A, $20
    db   $01, $00, $03, $02, $02, $0A, $0E, $06

toc_03_6BF9:
    ifGte [$C11C], $02, .return_03_6C76

    _ifZero [hLinkPositionZHigh], .return_03_6C76

    ld   hl, $FFEE
    ld   a, [hLinkPositionX]
    sub  a, [hl]
    add  a, 6
    cp   12
    jr   nc, .return_03_6C76

    ld   hl, $FFEC
    ld   a, [hLinkPositionY]
    sub  a, [hl]
    add  a, 6
    cp   12
    jr   nc, .return_03_6C76

    ifNotZero [$C15B], .else_03_6C77

    ifNe [$FFEB], $2B, .else_03_6C5D

    ifLt [$DB44], $02, .else_03_6C77

    ld   a, [hLinkDirection]
    ld   e, a
    ld   d, b
    ld   hl, $6BF5
    add  hl, de
    ld   e, [hl]
    ld   hl, $C380
    add  hl, bc
    ld   a, [hl]
    sub  a, e
    and  %00001111
    cp   $05
    jr   nc, .else_03_6C77

    ld   hl, $C2A0
    add  hl, bc
    ld   [hl], $02
    assign [$FFF2], $07
    ld   a, [$FFEF]
.toc_03_6C51:
    ld   [$FFD8], a
    copyFromTo [$FFEE], [$FFD7]
    ld   a, $05
    call toc_01_0953
    ret


.else_03_6C5D:
    ld   hl, $C380
    add  hl, bc
    ld   e, [hl]
    ld   d, b
    ld   hl, $6BF1
    add  hl, de
    ld   a, [hLinkDirection]
    cp   [hl]
    jr   nz, .else_03_6C77

    assign [$FFF2], $16
.loop_03_6C70:
    ld   hl, $C2A0
    add  hl, bc
    ld   [hl], $FF
.return_03_6C76:
    ret


.else_03_6C77:
    call toc_03_6C87.toc_03_6CDC
    ifEq [$FFEB], $2B, .else_03_6C84

    cp   $0C
    jr   nz, .loop_03_6C70

.else_03_6C84:
    jp   toc_01_3F7A.else_01_3FB7

toc_03_6C87:
    ld   a, [hFrameCounter]
    xor  c
    rra
    jp   nc, .else_03_6CE7

.toc_03_6C8E:
    _ifZero [hLinkPositionZHigh], toc_03_6BF9.return_03_6C76

.toc_03_6C93:
    ifGte [$C11C], $02, toc_03_6BF9.return_03_6C76

    push bc
    sla  c
    sla  c
    ld   hl, $D580
    add  hl, bc
    pop  bc
    ld   a, [$FFEE]
    add  a, [hl]
    push hl
    ld   hl, hLinkPositionX
    sub  a, [hl]
    sub  a, $08
    cp   $80
    jr   c, .else_03_6CB4

    cpl
    inc  a
.else_03_6CB4:
    pop  hl
    push af
    inc  hl
    ld   a, $04
    add  a, [hl]
    ld   e, a
    pop  af
    cp   e
    jp   nc, .else_03_6CE7

    inc  hl
    ld   a, [$FFEC]
    add  a, [hl]
    push hl
    ld   hl, hLinkPositionY
    sub  a, [hl]
    sub  a, $08
    cp   $80
    jr   c, .else_03_6CD1

    cpl
    inc  a
.else_03_6CD1:
    pop  hl
    push af
    inc  hl
    ld   a, $04
    add  a, [hl]
    ld   e, a
    pop  af
    cp   e
    jr   nc, .else_03_6CE7

.toc_03_6CDC:
    ld   hl, $C340
    add  hl, bc
    ld   a, [hl]
    and  %10000000
    jr   z, .else_03_6CE9

.loop_03_6CE5:
    scf
    ret


.else_03_6CE7:
    and  a
    ret


.else_03_6CE9:
    ld   a, [hLinkAnimationState]
    sub  a, LINK_ANIMATION_STATE_HOLD_SWIMMING_2
    cp   LINK_ANIMATION_STATE_UNKNOWN_02
    jr   c, toc_03_6C87.loop_03_6CE5

.toc_03_6CF1:
    ifNe [$FFEB], $AC, toc_03_6C87.else_03_6D15

    call toc_03_7EBB
    ld   a, e
    cp   $02
    jr   nz, toc_03_6C87.else_03_6D59

    call JumpTable_3B8D_00
    ld   [hl], $05
    assign [$C146], $02
    assign [hLinkPositionYIncrement], 240
    call toc_01_3DAF
    assign [$FFF3], $0E
    ret


.else_03_6D15:
    ifNe [$FFEB], $9F, toc_03_6C87.else_03_6D59

    ifNotZero [$C146], toc_03_6C87.else_03_6D59

    _ifZero [$FFB7], toc_03_6C87.else_03_6D37

    _ifZero [$FFF9], toc_03_6C87.else_03_6D31

    ld   a, [hLinkPositionZLow]
    xor  %10000000
    jr   toc_03_6C87.toc_03_6D33

.else_03_6D31:
    ld   a, [hLinkPositionYIncrement]
.toc_03_6D33:
    and  %10000000
    jr   nz, toc_03_6C87.else_03_6D59

.else_03_6D37:
    assign [$FFB7], $02
    ld   hl, $C290
    add  hl, bc
    ld   [hl], $02
    call toc_01_0891
    ld   [hl], $30
    assign [$FFF3], $0E
    _ifZero [$FFF9], toc_03_6C87.else_03_6D54

    assign [hLinkPositionZLow], $10
    ret


.else_03_6D54:
    assign [hLinkPositionYIncrement], 240
    ret


.else_03_6D59:
    ifNe [$FFEB], $1C, toc_03_6C87.else_03_6D6A

    call toc_01_0891
    ld   [hl], $80
    call JumpTable_3B8D_00
    ld   [hl], $04
    ret


.else_03_6D6A:
    cp   $8E
    jr   z, toc_03_6C87.else_03_6D79

    cp   $82
    jr   z, toc_03_6C87.else_03_6D79

    ifZero [$C13E], toc_03_6C87.else_03_6E1F

.else_03_6D79:
    ifNe [$FFEB], $E4, toc_03_6C87.else_03_6D8F

    ifNe [$FFF0], $04, toc_03_6C87.else_03_6D8F

    call JumpTable_3B8D_00
    ld   [hl], $08
    assign [$FFF3], $03
    ret


.else_03_6D8F:
    ld   a, [$DBC7]
    ld   hl, $C1C6
    or   [hl]
    ld   hl, $C166
    or   [hl]
    ld   hl, $C1A9
    or   [hl]
    jp   nz, toc_03_6C87.else_03_6E1F

    assign [$FFF3], $03
    ld   hl, $C4D0
    add  hl, bc
    ld   d, b
    ld   e, [hl]
    ld   hl, $484E
    add  hl, de
    ld   e, [hl]
    ifNe [$D47C], $02, toc_03_6C87.else_03_6DC0

    ld   a, e
    cp   $04
    jr   nz, toc_03_6C87.else_03_6DBE

    ld   e, $00
.else_03_6DBE:
    srl  e
.else_03_6DC0:
    ld   a, [$DB94]
    add  a, e
    ld   [$DB94], a
    assign [$DBC7], $50
    clear [$D471]
    ifNotZero [$D47C], toc_03_6C87.else_03_6DF4

    incAddr $D47A
    ld   a, [hl]
    cp   $03
    jr   c, toc_03_6C87.else_03_6DF4

    clear [$D47C]
    _ifZero [$C1BE], toc_03_6C87.else_03_6DF4

    ifEq [hDefaultMusicTrack], MUSIC_OWL, toc_03_6C87.else_03_6DF2

    ld   [$D368], a
.else_03_6DF2:
    ld   [hNextDefaultMusicTrack], a
.else_03_6DF4:
    call toc_01_093B.toc_01_0942
    assign [$C13E], $10
    ld   a, [$FFEB]
    ld   e, $18
    cp   $82
    jp   z, toc_03_6F82.toc_03_6FBC

    cp   $5A
    jr   nz, toc_03_6C87.else_03_6E0F

    ld   hl, $C2A0
    add  hl, bc
    ld   [hl], $01
.else_03_6E0F:
    cp   $59
    ld   a, $14
    jr   nz, toc_03_6C87.else_03_6E17

    ld   a, $18
.else_03_6E17:
    call toc_03_7569
    _ifZero [$FFF9], toc_03_6E23

.else_03_6E1F:
    scf
    ret


    db   $0C, $F4

toc_03_6E23:
    ifEq [$FF9C], $02, toc_03_6C87.else_03_6E1F

    call toc_03_7EAB
    ld   d, b
    ld   hl, $6E21
    add  hl, de
    ld   a, [hl]
    ld   [hLinkPositionXIncrement], a
    assign [hLinkPositionYIncrement], 244
    clear [$FF9C]
    scf
    ret


toc_03_6E3D:
    call toc_03_6C87
.toc_03_6E40:
    ld   a, [$C140]
    cp   $00
    jp   z, JumpTable_7059_03.return_03_73EA

    ld   hl, $C420
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .else_03_6E55

    cp   $18
    jp   c, JumpTable_7059_03.return_03_73EA

.else_03_6E55:
    ifNotZero [$C1AC], .else_03_6E60

    dec  a
    cp   c
    jp   z, JumpTable_7059_03.return_03_73EA

.else_03_6E60:
    ld   hl, $C410
    add  hl, bc
    ld   a, [hl]
    and  a
    jp   nz, JumpTable_7059_03.return_03_73EA

    ld   de, $FFEE
    push bc
    sla  c
    sla  c
    ld   hl, $D580
    add  hl, bc
    pop  bc
    ld   a, [de]
    add  a, [hl]
    push hl
    ld   hl, $C140
    sub  a, [hl]
    cp   $80
    jr   c, .else_03_6E83

    cpl
    inc  a
.else_03_6E83:
    pop  hl
    push af
    inc  hl
    ld   a, [$C141]
    add  a, [hl]
    ld   e, a
    pop  af
    cp   e
    jp   nc, JumpTable_7059_03.return_03_73EA

    inc  hl
    push hl
    ld   de, $FFEC
    pop  hl
    ld   a, [de]
    add  a, [hl]
    push hl
    ld   hl, $C142
    sub  a, [hl]
    cp   $80
    jr   c, .else_03_6EA3

    cpl
    inc  a
.else_03_6EA3:
    pop  hl
    push af
    inc  hl
    ld   a, [$C143]
    add  a, [hl]
    ld   e, a
    pop  af
    cp   e
    jp   nc, JumpTable_7059_03.return_03_73EA

    ld   hl, $C340
    add  hl, bc
    ld   a, [hl]
    and  %00100000
    jp   nz, toc_03_6310.toc_03_6336

    ifZero [$C5B0], toc_03_6FFE

    copyFromTo [$C14A], [$FFE9]
    call toc_01_093B.toc_01_0942
    ifNe [$FFEB], $E2, .else_03_6EE6

    ld   a, [$DB44]
    cp   $02
    ret  nz

    ld   a, [hLinkDirection]
    cp   DIRECTION_UP
    ret  nz

    assign [hLinkPositionYIncrement], 4
    assign [$C13E], $08
    jp   JumpTable_3B8D_00

.else_03_6EE6:
    cp   $55
    jr   nz, toc_03_6E3D.else_03_6F0C

    ld   a, [$FFF0]
    cp   $02
    jp   nz, toc_03_6F82.toc_03_6FA8

    ld   hl, $C240
    add  hl, bc
    ld   a, [hl]
    cpl
    inc  a
    ld   [hl], a
    ld   hl, $C250
    add  hl, bc
    ld   a, [hl]
    cpl
    inc  a
    ld   [hl], a
    call toc_01_0891
    ld   [hl], $40
    call toc_01_088C
    ld   [hl], $08
    ret


.else_03_6F0C:
    cp   $51
    jr   nz, toc_03_6E3D.else_03_6F35

    ld   hl, $C430
    add  hl, bc
    and  %01000000
    jp   z, toc_03_6F82.toc_03_6FA8

.toc_03_6F19:
    ld   hl, $C2B0
    add  hl, bc
    ld   a, [hl]
    cpl
    inc  a
    ld   [hl], a
    call toc_03_6E3D.else_03_6F71
    call toc_01_088C
    ld   [hl], $0C
    assign [$C160], $01
    clear [$C122]
    jp   JumpTable_7059_03.toc_03_714C

.else_03_6F35:
    cp   $58
    jr   nz, toc_03_6E3D.else_03_6F3F

.toc_03_6F39:
    call toc_03_6F82.toc_03_6FA8
    jp   toc_03_6BF9.loop_03_6C70

.else_03_6F3F:
    cp   $2C
    jr   nz, toc_03_6F82

    ld   hl, $C290
    add  hl, bc
    ld   a, [hl]
    cp   $03
    jr   z, toc_03_6E3D.else_03_6F71

    ld   [hl], $03
    ld   hl, $C320
    add  hl, bc
    ld   [hl], $20
    call toc_01_0891
    ld   [hl], $FF
    ld   a, [hLinkDirection]
    ld   e, a
    ld   d, b
    ld   hl, $6F7A
    add  hl, de
    ld   a, [hl]
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    ld   hl, $6F7E
    add  hl, de
    ld   a, [hl]
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
.else_03_6F71:
    call toc_03_6F82.toc_03_6FA8
    ld   hl, $C410
    add  hl, bc
    ld   [hl], b
    ret


    db   $10, $F0, $00, $00, $00, $00, $F0, $10

toc_03_6F82:
    cp   $9C
    jr   z, .else_03_6F8A

    cp   $15
    jr   nz, .else_03_6FA3

.else_03_6F8A:
    ld   a, [hLinkDirection]
    and  DIRECTION_UP
    jr   nz, .else_03_6F96

    ld   hl, $C240
    add  hl, bc
    jr   .toc_03_6F9A

.else_03_6F96:
    ld   hl, $C250
    add  hl, bc
.toc_03_6F9A:
    ld   a, [hl]
    cpl
    inc  a
    ld   [hl], a
    call .toc_03_6FA8
    ld   [hl], b
    ret


.else_03_6FA3:
    cp   $5A
    jp   z, toc_03_6E3D.toc_03_6F39

.toc_03_6FA8:
    assign [$FFF2], $09
    call toc_01_093B.toc_01_0942
    assign [$C13E], $0C
    ifNe [$FFEB], $82, .else_03_6FCE

    ld   e, 16
.toc_03_6FBC:
    push de
    call toc_03_7EAB
    ld   a, e
    and  a
    pop  de
    ld   a, e
    jr   z, .else_03_6FC8

    cpl
    inc  a
.else_03_6FC8:
    ld   [hLinkPositionXIncrement], a
    clear [hLinkPositionYIncrement]
    ret


.else_03_6FCE:
    ld   a, $12
    call toc_03_7569
    ld   hl, $FFE9
    ld   a, [hPressedButtonsMask]
    and  J_DOWN | J_LEFT | J_RIGHT | J_UP
    ld   a, $08
    or   [hl]
    jr   z, toc_03_6F82.else_03_6FE1

    ld   a, $20
.else_03_6FE1:
    call toc_03_7E17
    ld   a, [$FFD7]
    cpl
    inc  a
    ld   hl, $C400
    add  hl, bc
    ld   [hl], a
    ld   a, [$FFD8]
    cpl
    inc  a
    ld   hl, $C3F0
    add  hl, bc
    ld   [hl], a
    call JumpTable_7059_03.toc_03_73DF
    ret


    db   $00, $01, $02, $03

toc_03_6FFE:
    ld   a, [$FFEB]
    cp   $E2
    ret  z

    cp   $E6
    jr   nz, JumpTable_702D_03.toc_03_702F

    ld   a, [$D219]
    jumptable
    dw JumpTable_4D09_03.JumpTable_4D13_03 ; 00
    dw JumpTable_7017_03 ; 01
    dw JumpTable_701D_03 ; 02
    dw JumpTable_702D_03 ; 03
    dw JumpTable_702D_03 ; 04
    dw JumpTable_7059_03 ; 05

JumpTable_7017_03:
    call JumpTable_3B8D_00
    ld   [hl], $06
    ret


JumpTable_701D_03:
    _ifZero [$C121], .else_03_7029

    returnIfGte [$C16A], $04

.else_03_7029:
    call JumpTable_3B8D_00
    ret


JumpTable_702D_03:
    ld   a, [$FFEB]
.toc_03_702F:
    cp   $B9
    jr   nz, JumpTable_7059_03

    ifNe [$FFEA], $05, JumpTable_7059_03

    call JumpTable_3B8D_00
    ld   [hl], $01
    call toc_01_0891
    ld   [hl], $40
    assign [$D464], $40
    clear [$C137]
    ld   [$C16A], a
    ld   [$C121], a
    assign [$FFF4], $1C
    jp   toc_03_6C87.toc_03_6CF1

JumpTable_7059_03:
    ifNe [$FFEB], $55, .else_03_7086

    ld   a, $30
    call toc_03_7E17
    ld   a, [$FFD7]
    cpl
    inc  a
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
    ld   a, [$FFD8]
    cpl
    inc  a
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    call JumpTable_3B8D_00
    ld   [hl], $02
    call toc_01_0891
    ld   [hl], $40
    call toc_01_088C
    ld   [hl], $08
    ret


.else_03_7086:
    cp   $65
    jr   nz, .else_03_7094

    call toc_03_6C87.else_03_6DF4
    assign [$C13E], $08
    jr   .else_03_70D1

.else_03_7094:
    cp   $5B
    jr   nz, .else_03_70D1

    _ifZero [$FFE8], .else_03_70C0

    ld   hl, $C2B0
    add  hl, bc
    ld   a, [hl]
    cp   $04
    jp   nz, .else_03_70B4

    ifNotZero [$C14A], .else_03_7113

    ld   hl, $C300
    add  hl, bc
    ld   [hl], $0C
    ret


.else_03_70B4:
    ifNotZero [$C14A], .else_03_70C4

    call toc_03_6C87.else_03_6DF4
    jp   .else_03_7113

.else_03_70C0:
    call toc_03_6C87.else_03_6DF4
    ret


.else_03_70C4:
    assign [$C13E], $04
    ld   a, $10
    call toc_03_7569
    jp   .else_03_7113

.else_03_70D1:
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %01000000
    jr   z, .else_03_7113

    ld   a, [$FFEB]
    cp   $51
    jp   z, toc_03_6E3D.toc_03_6F19

    cp   $5C
    jr   nz, .else_03_70F8

    ld   a, [$D47C]
    cp   $01
    ld   a, $20
    jr   nz, .else_03_70F0

    ld   a, $30
.else_03_70F0:
    call toc_03_6F82.else_03_6FE1
    ld   hl, $C420
    add  hl, bc
    ld   [hl], b
.else_03_70F8:
    ld   a, c
    inc  a
    ld   [$C1AC], a
    call toc_01_0993
    ld   hl, $C410
    add  hl, bc
    ld   [hl], $10
    ld   hl, $C3F0
    add  hl, bc
    ld   [hl], b
    ld   hl, $C400
    add  hl, bc
    ld   [hl], b
    jp   toc_03_6C87.else_03_6DF4

.else_03_7113:
    ifNe [$FFEB], $8E, .else_03_711E

    call toc_01_093B.toc_01_0942
    jr   .else_03_715F

.else_03_711E:
    cp   $24
    jr   nz, .else_03_7158

    ld   hl, $C2C0
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   nz, .else_03_7158

    ld   a, [hLinkDirection]
    ld   e, a
    ld   d, b
    ld   hl, $6FFA
    add  hl, de
    ld   a, [hl]
    ld   hl, $C380
    add  hl, bc
    cp   [hl]
    jr   z, .else_03_715F

    call toc_01_093B.toc_01_0942
    assign [$C13E], $10
    ld   a, $10
    call toc_03_7569
    ld   a, $10
    call toc_03_6F82.else_03_6FE1
.toc_03_714C:
    copyFromTo [$FFEE], [$FFD7]
    copyFromTo [$FFEC], [$FFD8]
    call toc_01_0993.toc_01_09A1
    ret


.else_03_7158:
    ld   a, [$FFEB]
    cp   $15
    jp   z, .return_03_73EA

.else_03_715F:
    assign [$C160], $01
    ifNe [$C16A], $05, .else_03_7170

    assign [$C16D], $0C
.else_03_7170:
    clear [$C122]
    ld   a, $30
    call toc_03_6F82.else_03_6FE1
    ld   hl, $FFF2
    ld   [hl], $09
    ifNe [$D47C], $01, .else_03_71A8

    call .else_03_71A8
    ld   hl, $C410
    add  hl, bc
    ld   [hl], $20
    ld   hl, $C4A0
    add  hl, bc
    ld   [hl], $01
    assign [$FFF3], $11
    ld   hl, $C280
    add  hl, bc
    ld   a, [hl]
    cp   $01
    jr   nz, .return_03_71A7

    ld   hl, $C480
    add  hl, bc
    ld   [hl], $40
.return_03_71A7:
    ret


.else_03_71A8:
    ld   a, c
    inc  a
    ld   [$C1AC], a
    ld   a, [$D47C]
    and  %00000001
    ld   hl, $C121
    or   [hl]
    ld   hl, $C14A
    or   [hl]
    ld   a, [$DB4E]
    jr   z, .else_03_71C0

    inc  a
.else_03_71C0:
    dec  a
    ld   [$C19E], a
.toc_03_71C4:
    ld   hl, $C4D0
    add  hl, bc
    ld   e, [hl]
    ld   d, b
    sla  e
    rl   d
    sla  e
    rl   d
    sla  e
    rl   d
    sla  e
    rl   d
    ld   hl, $448D
    add  hl, de
    ld   a, [$C19E]
    ld   e, a
    ld   d, b
    add  hl, de
    ld   e, [hl]
    push de
    ld   a, [$C19E]
    rla
    rla
    rla
    and  %11111000
    ld   e, a
    ld   hl, $479D
    add  hl, de
    pop  de
    add  hl, de
    ld   a, [hl]
    and  a
    ret  z

    push af
    ifNe [$FFEB], $E6, .else_03_7219

    ifNe [$D219], $04, .else_03_7219

    ld   a, [$C14A]
    push af
    call toc_03_6C87.else_03_6DF4
    pop  af
    and  a
    jr   nz, .else_03_7219

    _ifZero [$C121], .else_03_7219

    pop  af
    ret


.else_03_7219:
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    ld   hl, $FFF2
    ld   [hl], $03
    and  %10000000
    jr   z, .else_03_722C

    ld   hl, $FFF3
    ld   [hl], $07
.else_03_722C:
    ld   hl, $C3A0
    add  hl, bc
    ld   a, [hl]
    cp   $6C
    jr   nz, .else_03_7239

    assign [$FFF3], $13
.else_03_7239:
    pop  af
    cp   $F0
    jr   c, .else_03_72B9

    cp   $FE
    jr   nz, .else_03_7264

    ld   hl, $FFF4
    ld   [hl], $12
    call .toc_03_73DF
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $03
    call toc_01_0891
    ld   [hl], $60
    ld   hl, $C340
    add  hl, bc
    inc  [hl]
    inc  [hl]
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %11000010
    ld   [hl], a
    ret


.else_03_7264:
    cp   $FF
    jr   nz, .else_03_727D

    call .toc_03_73DF
.toc_03_726B:
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $06
    ld   hl, $C300
    add  hl, bc
    ld   [hl], $FF
    ld   hl, $C320
    add  hl, bc
    ld   [hl], b
    ret


.else_03_727D:
    cp   $FD
    jr   nz, .return_03_72B8

    ld   hl, $C3A0
    add  hl, bc
    ld   a, [hl]
    cp   $B9
    jr   nz, .else_03_7295

    ld   hl, $C2B0
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   nz, .return_03_72B8

    inc  [hl]
    jr   .toc_03_729F

.else_03_7295:
    ld   [hl], $2F
    call toc_03_48B0
    call toc_01_0887
    ld   [hl], $80
.toc_03_729F:
    ld   hl, $C200
    add  hl, bc
    ld   a, [hl]
    ld   [$FFD7], a
    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C310
    add  hl, bc
    sub  a, [hl]
    ld   [$FFD8], a
    ld   a, $02
    call toc_01_0953
    ret


.return_03_72B8:
    ret


.else_03_72B9:
    ld   e, a
    ld   hl, $C360
    add  hl, bc
    ld   a, [hl]
    sub  a, e
    ld   [hl], a
    jr   c, .else_03_72C6

    jp   nz, .else_03_73BA

.else_03_72C6:
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $01
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    bit  7, a
    jr   z, .else_03_7342

    bit  2, a
    jr   nz, .else_03_7308

    ld   e, $0F
    ld   d, b
.loop_03_72DC:
    ld   a, e
    cp   c
    jr   z, .else_03_72F2

    ld   hl, $C280
    add  hl, de
    ld   a, [hl]
    cp   $05
    jr   nz, .else_03_72F2

    ld   hl, $C430
    add  hl, de
    ld   a, [hl]
    and  %10000000
    jr   nz, .else_03_7308

.else_03_72F2:
    dec  e
    ld   a, e
    cp   $FF
    jr   nz, .loop_03_72DC

    ld   a, [wCurrentBank]
    push af
    call_changebank $03
    call toc_01_27D2
    pop  af
    ld   [wCurrentBank], a
.else_03_7308:
    assign [$C5A7], $03
    ld   hl, $C2C0
    add  hl, bc
    ld   [hl], b
    ld   hl, $C3A0
    add  hl, bc
    ld   a, [hl]
    ld   e, $B7
    cp   $5A
    jr   z, .else_03_7329

    ld   e, $B9
    cp   $63
    jr   z, .else_03_7334

    ld   e, $BD
    cp   $62
    jr   nz, .else_03_7342

.else_03_7329:
    ld   a, e
    call toc_01_2197
    assign [$D368], $5E
    jr   .else_03_7342

.else_03_7334:
    ld   a, [hLinkPositionY]
    push af
    assign [hLinkPositionY], 16
    ld   a, e
    call toc_01_2197
    pop  af
    ld   [hLinkPositionY], a
.else_03_7342:
    call JumpTable_3B8D_00
    ld   [hl], b
    ld   hl, $C480
    add  hl, bc
    ld   [hl], $2F
    ld   hl, $C420
    add  hl, bc
    xor  a
    ld   [hl], a
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %10000000
    jr   nz, .else_03_7365

    ld   hl, $C340
    add  hl, bc
    ld   a, [hl]
    and  %11110000
    or   %00000100
    ld   [hl], a
.else_03_7365:
    ld   hl, $C3A0
    add  hl, bc
    ld   a, [hl]
    cp   $12
    jr   nz, .else_03_73BA

    ld   e, $0F
    ld   d, b
.loop_03_7371:
    ld   a, e
    cp   c
    jr   z, .else_03_73AE

    ld   hl, $C3A0
    add  hl, de
    ld   a, [hl]
    cp   $10
    jr   z, .else_03_7382

    cp   $11
    jr   nz, .else_03_73AE

.else_03_7382:
    ld   hl, $C290
    add  hl, de
    ld   a, [hl]
    and  a
    jr   nz, .else_03_73AE

    ld   hl, $C280
    add  hl, de
    ld   a, [hl]
    and  a
    jr   z, .else_03_73AE

    ld   [hl], $01
    ld   hl, $C480
    add  hl, de
    ld   [hl], $1F
    call toc_01_27ED
    and  %00000011
    push bc
    ld   c, a
    ld   b, $00
    ld   hl, $73EB
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C4E0
    add  hl, de
    ld   [hl], a
    pop  bc
.else_03_73AE:
    dec  e
    ld   a, e
    cp   $FF
    jr   nz, .loop_03_7371

    ld   hl, $C4E0
    add  hl, bc
    ld   [hl], $2E
.else_03_73BA:
    ld   hl, $C3A0
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C420
    add  hl, bc
    cp   $E6
    jr   nz, .else_03_73D0

    ifEq [$D219], $03, .else_03_73D4

    jr   .else_03_73DD

.else_03_73D0:
    cp   $59
    jr   nz, .else_03_73DD

.else_03_73D4:
    ld   [hl], $28
    ld   hl, $C300
    add  hl, bc
    ld   [hl], $C8
    ret


.else_03_73DD:
    ld   [hl], $18
.toc_03_73DF:
    ld   hl, $C4A0
    add  hl, bc
    ld   [hl], b
    ld   hl, $C410
    add  hl, bc
    ld   [hl], $0A
.return_03_73EA:
    ret


    db   $2D, $2E, $38, $37, $21, $AC, $C1, $FA
    db   $3E, $C1, $B6, $21, $B6, $FF, $B6, $21
    db   $21, $C1, $B6, $C2, $E5, $74, $FA, $40
    db   $C1, $FE, $00, $CA, $E5, $74, $21, $80
    db   $C3, $09, $F0, $9E, $BE, $CA, $E5, $74
    db   $11, $EE, $FF, $21, $C0, $D5, $1A, $86
    db   $E5, $21, $40, $C1, $96, $FE, $80, $38
    db   $02, $2F, $3C, $E1, $F5, $23, $FA, $41
    db   $C1, $86, $5F, $F1, $BB, $D2, $E5, $74
    db   $23, $11, $EC, $FF, $1A, $86, $E5, $21
    db   $42, $C1, $96, $FE, $80, $38, $02, $2F
    db   $3C, $E1, $F5, $23, $FA, $43, $C1, $86
    db   $5F, $F1, $BB, $D2, $E5, $74, $CD, $42
    db   $09, $3E, $08, $EA, $3E, $C1, $3E, $12
    db   $CD, $69, $75, $3E, $18, $CD, $17, $7E
    db   $F0, $D7, $2F, $3C, $21, $00, $C4, $09
    db   $77, $F0, $D8, $2F, $3C, $21, $F0, $C3
    db   $09, $77, $CD, $DF, $73, $36, $08, $AF
    db   $EA, $22, $C1, $CD, $DC, $08, $21, $21
    db   $C1, $FA, $6A, $C1, $B6, $28, $05, $3E
    db   $0C, $EA, $6D, $C1, $F0, $EB, $FE, $BE
    db   $20, $30, $3E, $09, $E0, $F2, $FA, $05
    db   $D2, $FE, $00, $28, $23, $FE, $01, $28
    db   $15, $FE, $04, $28, $11, $FE, $03, $CA
    db   $75, $75, $3E, $20, $EA, $3E, $C1, $3E
    db   $20, $CD, $69, $75, $18, $27, $3E, $10
    db   $EA, $3E, $C1, $3E, $20, $CD, $69, $75
    db   $18, $1B, $F0, $9E, $5F, $50, $21, $E8
    db   $74, $19, $FA, $40, $C1, $86, $E0, $D7
    db   $21, $EC, $74, $19, $FA, $42, $C1, $86
    db   $E0, $D8, $CD, $A1, $09, $3E, $0C, $E0
    db   $B6, $C9, $C3, $F0, $74, $00, $F0, $F8
    db   $FC, $FC, $FC, $F0, $00, $F0, $E7, $A9
    db   $1F, $30, $7E, $F0, $98, $C6, $08, $E0
    db   $D7, $F0, $99, $C6, $08, $E0, $D9, $11
    db   $EE, $FF, $21, $C0, $D5, $1A, $86, $E5
    db   $21, $D7, $FF, $96, $FE, $80, $38, $02
    db   $2F, $3C, $E1, $F5, $23, $3E, $04, $86
    db   $5F, $F1, $BB, $30, $54, $23, $11, $EC
    db   $FF, $1A, $86, $E5, $21, $D9, $FF, $96
    db   $FE, $80, $38, $02, $2F, $3C, $E1, $F5
    db   $23, $3E, $05, $86, $5F, $F1, $BB, $30
    db   $38, $FA, $C7, $DB, $A7, $20, $32, $CD
    db   $F1, $6C, $F0, $EB, $FE, $BE, $20, $29
    db   $FA, $05, $D2, $A7, $28, $23, $FE, $01
    db   $28, $1F, $FE, $04, $28, $1B, $FE, $02
    db   $20, $18, $CD, $8C, $08, $36, $A0, $3E
    db   $20, $EA, $3E, $C1, $3E, $30

toc_03_7569:
    call toc_03_7E17
    copyFromTo [$FFD7], [hLinkPositionYIncrement]
    copyFromTo [$FFD8], [hLinkPositionXIncrement]
    ret


    db   $21, $D0, $C3, $09, $7E, $FE, $22, $38
    db   $F6, $3E, $0A, $EA, $1C, $C1, $21, $80
    db   $C3, $09, $7E, $A7, $3E, $30, $28, $02
    db   $3E, $D0, $E0, $9A, $AF, $E0, $9B, $3E
    db   $30, $E0, $A3, $3E, $0B, $E0, $F2, $C9
    db   $3E, $20, $EA, $3E, $C1, $3E, $20, $18
    db   $C3

toc_03_75A6:
    ld   e, $0F
    ld   d, $00
.toc_03_75AA:
    ld   a, e
    cp   c
    jp   z, .else_03_779D

    ld   a, [hFrameCounter]
    xor  e
    and  %00000001
    jp   nz, .else_03_779D

    ld   hl, $C280
    add  hl, de
    ld   a, [hl]
    cp   $05
    jp   c, .else_03_779D

    ld   hl, $C340
    add  hl, de
    ld   a, [hl]
    and  %01000000
    jp   nz, .else_03_779D

    ld   hl, $C200
    add  hl, de
    ld   a, [$FFEE]
    sub  a, [hl]
    add  a, $0C
    cp   $18
    jp   nc, .else_03_779D

    ld   hl, $C210
    add  hl, de
    ld   a, [hl]
    ld   hl, $C310
    add  hl, de
    sub  a, [hl]
    ld   hl, $FFEC
    sub  a, [hl]
    add  a, $0C
    cp   $18
    jp   nc, .else_03_779D

    ld   hl, $C3B0
    add  hl, de
    ld   a, [hl]
    cp   $FF
    jp   z, .else_03_779D

    ifNe [$FFEB], $55, .else_03_7602

    call toc_01_0891
    ld   [hl], b
.else_03_7602:
    ld   hl, $C3A0
    add  hl, de
    ld   a, [hl]
    cp   $55
    jr   nz, .else_03_7634

    ld   hl, $C240
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C240
    add  hl, de
    ld   [hl], a
    ld   hl, $C250
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C250
    add  hl, de
    ld   [hl], a
    ld   hl, $C2E0
    add  hl, de
    ld   [hl], $40
    ld   hl, $C290
    add  hl, de
    ld   [hl], $02
    ld   hl, $C2F0
    add  hl, de
    ld   [hl], $08
    jp   .else_03_779D

.else_03_7634:
    ld   hl, $C340
    add  hl, de
    ld   a, [hl]
    and  %00100000
    jp   nz, .else_03_7719

    ifEq [$FFEB], $08, .else_03_766C

    ld   hl, $C3A0
    add  hl, de
    ld   a, [hl]
    cp   $E6
    jr   nz, .else_03_765A

    ifNe [$D219], $05, .else_03_765A

    ifNe [$FFF1], $02, .else_03_7663

.else_03_765A:
    ld   hl, $C350
    add  hl, de
    ld   a, [hl]
    and  %10000000
    jr   z, .else_03_766C

.else_03_7663:
    ld   hl, $C2A0
    add  hl, bc
    ld   [hl], $01
    jp   .else_03_773B

.else_03_766C:
    ifNe [$FFEB], $08, .else_03_76B0

    ld   hl, $C3A0
    add  hl, de
    ld   a, [hl]
    cp   $CA
    jr   nz, .else_03_7684

    ld   hl, $C290
    add  hl, de
    ld   a, [hl]
    and  a
    jr   nz, .else_03_76B0

    inc  [hl]
.else_03_7684:
    cp   $3F
    jr   nz, .else_03_76B0

    _ifZero [$DBA5], .else_03_76B0

    ld   hl, $C290
    add  hl, de
    ld   a, [hl]
    and  a
    jr   nz, .else_03_76B0

    inc  [hl]
    ld   hl, $C450
    add  hl, de
    ld   [hl], $7F
    ld   hl, $C420
    add  hl, de
    ld   [hl], $10
    assign [wCurrentBank], $03
    call toc_01_27D2
    assign [wCurrentBank], $18
.else_03_76B0:
    ld   hl, $C350
    add  hl, de
    ld   a, [hl]
    and  %10000000
    jp   nz, .else_03_779D

    ld   hl, $C410
    add  hl, de
    ld   a, [hl]
    and  a
    jp   nz, .else_03_779D

    ld   hl, $C3A0
    add  hl, de
    ld   a, [hl]
    cp   $24
    jr   nz, .else_03_7714

    ld   hl, $C380
    add  hl, de
    ld   a, [hl]
    xor  %00000001
    ld   hl, $C380
    add  hl, bc
    cp   [hl]
    jr   nz, .else_03_7714

    ld   hl, $C2C0
    add  hl, de
    ld   a, [hl]
    and  a
    jr   nz, .else_03_7714

    ld   a, [$FFEB]
    cp   $03
    jp   nz, .else_03_7663

    ld   [hl], $01
    push de
    ld   a, $32
    call toc_03_64F8
    jr   c, .else_03_7711

    ld   a, [$FFD7]
    ld   hl, $C200
    add  hl, de
    ld   [hl], a
    ld   a, [$FFD8]
    ld   hl, $C210
    add  hl, de
    ld   [hl], a
    ld   hl, $C390
    add  hl, de
    ld   a, c
    inc  a
    ld   [hl], a
    ld   a, [$FFD9]
    and  %00000001
    ld   hl, $C3B0
    add  hl, de
    ld   [hl], a
.else_03_7711:
    pop  de
    jr   .else_03_773B

.else_03_7714:
    call toc_03_77A5
    jr   .else_03_773B

.else_03_7719:
    ifEq [$FFEB], $01, .else_03_7723

    cp   $03
    jr   nz, .else_03_7738

.else_03_7723:
    call toc_01_0891
    xor  a
    ld   [hl], a
    ld   hl, $C340
    add  hl, de
    ld   a, [hl]
    and  %00100000
    jr   z, .else_03_773B

    ld   a, c
    inc  a
    ld   hl, $C390
    add  hl, de
    ld   [hl], a
.else_03_7738:
    jp   .else_03_779D

.else_03_773B:
    ifEq [$FFEB], $A8, .else_03_775E

    cp   $01
    jr   z, .else_03_7798

    cp   $03
    jr   z, .else_03_7798

    cp   $05
    jr   nz, .else_03_7755

    push de
    call toc_03_5441
    pop  de
    jp   .else_03_779D

.else_03_7755:
    ld   hl, $C280
    add  hl, bc
    ld   a, [hl]
    cp   $08
    jr   nz, .else_03_7780

.else_03_775E:
    ld   hl, $C480
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   nz, .else_03_779D

    ld   [hl], $0C
    ld   hl, $C240
    add  hl, bc
    sra  [hl]
    sra  [hl]
    ld   a, [hl]
    cpl
    ld   [hl], a
    ld   hl, $C250
    add  hl, bc
    sra  [hl]
    sra  [hl]
    ld   a, [hl]
    cpl
    ld   [hl], a
    jr   .else_03_7798

.else_03_7780:
    ld   hl, $C2A0
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   nz, .else_03_7798

    ifNe [$FFEB], $00, .else_03_7793

    _ifZero [$FFF0], .else_03_7796

.else_03_7793:
    call toc_01_3F7A.else_01_3FB7
.else_03_7796:
    jr   .else_03_779D

.else_03_7798:
    call toc_01_0891
    xor  a
    ld   [hl], a
.else_03_779D:
    dec  e
    ld   a, e
    cp   $FF
    jp   nz, .toc_03_75AA

    ret


toc_03_77A5:
    ifNe [$FFEB], $00, .else_03_77B6

    ifNotZero [$FFF0], .else_03_77B6

    call toc_01_0891
    ld   [hl], $03
    ret


.else_03_77B6:
    ld   hl, $C240
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C3F0
    add  hl, de
    ld   [hl], a
    ld   hl, $C250
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C400
    add  hl, de
    ld   [hl], a
    push bc
    push de
    pop  bc
    push de
    call toc_03_77D4
    pop  de
    pop  bc
    ret


toc_03_77D4:
    call JumpTable_7059_03.toc_03_71C4
    ret


    db   $1E, $0F, $16, $00, $21, $80, $C2, $19
    db   $7E, $FE, $05, $38, $4E, $21, $40, $C3
    db   $19, $7E, $E6, $60, $20, $45, $21, $50
    db   $C3, $19, $7E, $E6, $80, $20, $3C, $21
    db   $00, $C2, $19, $F0, $EE, $96, $C6, $18
    db   $FE, $30, $30, $2F, $21, $10, $C2, $19
    db   $7E, $21, $10, $C3, $19, $96, $21, $EC
    db   $FF, $96, $C6, $18, $FE, $30, $30, $1B
    db   $3E, $07, $EA, $9E, $C1, $CD, $A5, $77
    db   $3E, $30, $CD, $3A, $78, $21, $00, $C4
    db   $19, $F0, $D7, $77, $21, $F0, $C3, $19
    db   $F0, $D8, $77, $1D, $7B, $FE, $FF, $20
    db   $A3, $C9, $E0, $D7, $F0, $98, $F5, $21
    db   $00, $C2, $19, $7E, $E0, $98, $F0, $99
    db   $F5, $21, $10, $C2, $19, $7E, $E0, $99
    db   $D5, $F0, $D7, $CD, $17, $7E, $D1, $F1
    db   $E0, $99, $F1, $E0, $98, $C9, $0D, $02
    db   $08, $08, $0A, $06, $08, $08, $10, $FF
    db   $08, $08, $0D, $02, $08, $08, $08, $08
    db   $02, $0D, $08, $08, $06, $0A, $08, $08
    db   $FF, $10, $08, $08, $02, $0D, $01, $02
    db   $04, $08, $00, $00, $FF, $01, $01, $FF
    db   $01, $FF, $01, $FF, $00, $00, $01, $01
    db   $FF, $FF

toc_03_7892:
    ld   hl, $C470
    add  hl, bc
    ld   a, [hl]
    ld   [$FFD7], a
    xor  a
    ld   [hl], a
    ld   [$FFD8], a
    ld   [$C503], a
    ld   [$C50D], a
    ld   hl, $C310
    add  hl, bc
    ld   a, [hl]
    bit  7, a
    jr   nz, .else_03_78B0

    and  a
    jp   nz, .else_03_7A17

.else_03_78B0:
    ld   hl, $C4F0
    add  hl, bc
    ld   [hl], b
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    bit  4, a
    jp   nz, .else_03_7A17

    call toc_03_7DE0
    jr   .toc_03_78E2

.toc_03_78C4:
    ld   e, $02
    ifEq [$FFEB], $CC, .else_03_7906

    cp   $A0
    jr   z, .else_03_7906

    cp   $D5
    jr   z, .else_03_7906

    cp   $6D
    jr   z, .else_03_7906

    cp   $C1
    jr   z, .else_03_7906

    call toc_01_3F7A.else_01_3FB7
    jp   .toc_03_795B

.toc_03_78E2:
    ld   e, $01
    ifEq [hObjectUnderEntity], 103, .else_03_7906

    _ifNotZero [$FFDA], .else_03_7A17

    cp   $0B
    jr   z, .toc_03_78C4

    cp   $07
    jr   z, .toc_03_78C4

    cp   $B0
    jr   z, .else_03_7906

    inc  e
    cp   $05
    jr   z, .else_03_7906

    cp   $06
    jr   nz, .else_03_790B

    inc  e
.else_03_7906:
    ld   hl, $C470
    add  hl, bc
    ld   [hl], e
.else_03_790B:
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %00001000
    jr   z, .else_03_7972

    ld   hl, $C470
    add  hl, bc
    ld   a, [$FFD7]
    cp   [hl]
    jr   z, .else_03_7972

    ld   a, [hl]
    cp   $03
    jr   z, .else_03_7972

    ifEq [$FFD7], $03, .else_03_7972

    _ifZero [$FFF9], .else_03_793C

    ld   hl, $C320
    add  hl, bc
    ld   a, [hl]
    bit  7, a
    jr   z, .else_03_7972

    cp   $E7
    jr   nc, .else_03_7972

    jr   .else_03_7953

.else_03_793C:
    ifEq [$FFEB], $AC, .else_03_7953

    ld   hl, $C250
    add  hl, bc
    ld   a, [hl]
    bit  7, a
    jr   nz, .else_03_7953

    ld   [hl], $00
    ld   hl, $C240
    add  hl, bc
    sra  [hl]
.else_03_7953:
    ld   hl, $C480
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   nz, .else_03_7972

.toc_03_795B:
    ld   hl, $C200
    add  hl, bc
    ld   a, [hl]
    ld   [$FFD7], a
    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    ld   [$FFD8], a
    assign [$FFF2], $0E
    ld   a, $01
    call toc_01_0953
.else_03_7972:
    ld   a, [$FFDA]
    inc  a
    cp   $F1
    jr   c, .else_03_799B

    sub  a, $F1
    ld   e, a
    ld   d, b
    ld   a, [hFrameCounter]
    and  %00000011
    jr   nz, .else_03_7999

    ld   hl, $7882
    add  hl, de
    ld   a, [hl]
    ld   hl, $C200
    add  hl, bc
    add  a, [hl]
    ld   [hl], a
    ld   hl, $788A
    add  hl, de
    ld   a, [hl]
    ld   hl, $C210
    add  hl, bc
    add  a, [hl]
    ld   [hl], a
.else_03_7999:
    jr   .else_03_7A17

.else_03_799B:
    ifEq [hObjectUnderEntity], 97, .else_03_79AB

    ifEq [$FFDA], $50, .else_03_79AB

    cp   $51
    jr   nz, .else_03_7A17

.else_03_79AB:
    ifEq [$FFEB], $6D, .else_03_7A17

    cp   $D5
    jr   z, .else_03_7A17

    cp   $36
    jr   z, .else_03_7A17

    cp   $C1
    jr   nz, .else_03_79CA

    ifNe [$C11C], $06, .else_03_7A17

    ifNe [hObjectUnderEntity], 97, .else_03_7A17

.else_03_79CA:
    ld   hl, $C410
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .else_03_7A17

    dec  [hl]
    ld   hl, $C420
    add  hl, bc
    ld   [hl], $00
    ld   hl, $C280
    add  hl, bc
    ld   [hl], $02
    ld   a, [hSwordIntersectedAreaX]
    add  a, $08
    ld   hl, $C4B0
    add  hl, bc
    ld   [hl], a
    ld   a, [hSwordIntersectedAreaY]
    add  a, $10
    ld   hl, $C4C0
    add  hl, bc
    ld   [hl], a
    call toc_01_0891
    ld   [hl], $6F
    ifEq [$FFEB], $14, .else_03_7A17

    cp   $0B
    jr   z, .else_03_7A17

    cp   $09
    jr   z, .else_03_7A17

    ld   [hl], $48
    ld   hl, $C410
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   nz, .else_03_7A17

    call toc_01_0891
    ld   [hl], $2F
    assign [$FFF2], $18
.else_03_7A17:
    ld   a, [$FFEB]
    cp   $6D
    jp   z, .return_03_7A83

    clear [$C503]
    ld   hl, $C350
    add  hl, bc
    ld   a, [hl]
    and  %00000011
    sla  a
    sla  a
    ld   [$FFD7], a
    ld   hl, $C2A0
    add  hl, bc
    xor  a
    ld   [hl], a
    ld   hl, $C240
    add  hl, bc
    ld   a, [hl]
    cp   $00
    jr   z, .else_03_7A5C

    ld   de, $0000
    and  %10000000
    jr   z, .else_03_7A46

    inc  e
.else_03_7A46:
    call toc_03_7ACC
    jr   c, .else_03_7A5C

    copyFromTo [hObjectUnderEntity], [$C503]
    _ifZero [$FFBE], .else_03_7A5C

    ld   hl, $C200
    add  hl, bc
    ld   a, [$FFEE]
    ld   [hl], a
.else_03_7A5C:
    ld   hl, $C250
    add  hl, bc
    ld   a, [hl]
    cp   $00
    jr   z, .return_03_7A83

    ld   de, $0002
    and  %10000000
    jr   nz, .else_03_7A6D

    inc  e
.else_03_7A6D:
    call toc_03_7ACC
    jr   c, .return_03_7A83

    copyFromTo [hObjectUnderEntity], [$C50D]
    _ifZero [$FFBE], .return_03_7A83

    ld   hl, $C210
    add  hl, bc
    ld   a, [$FFEF]
    ld   [hl], a
.return_03_7A83:
    ret


    db   $01, $00, $01, $00, $00, $01, $00, $01
    db   $01, $01, $00, $00, $00, $00, $01, $01
    db   $01, $00, $01, $00, $00, $01, $00, $01
    db   $01, $01, $00, $00, $00, $00, $01, $01
    db   $00, $01, $01, $01, $01, $00, $01, $01
    db   $01, $01, $00, $01, $01, $01, $01, $00
    db   $01, $00, $00, $00, $00, $01, $00, $00
    db   $00, $00, $01, $00, $00, $00, $00, $01
    db   $00, $01, $01, $00, $01, $00, $00, $01

toc_03_7ACC:
    push bc
    ld   hl, $C200
    add  hl, bc
    ld   a, [hl]
    sub  a, $08
    push af
    ld   a, [$FFD7]
    ld   c, a
    pop  af
    ld   hl, $785E
    add  hl, bc
    add  hl, de
    add  a, [hl]
    ld   [$FFDB], a
    swap a
    and  %00001111
    ld   [$FFD8], a
    pop  bc
    push bc
    ld   a, e
    cp   $03
    jr   nz, .else_03_7B0D

    ifEq [$FFEB], $A8, .else_03_7AF8

    cp   $05
    jr   nz, .else_03_7B0D

.else_03_7AF8:
    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C310
    add  hl, bc
    ld   c, [hl]
    bit  7, c
    jr   z, .else_03_7B08

    ld   c, $00
.else_03_7B08:
    srl  c
    sub  a, c
    jr   .toc_03_7B12

.else_03_7B0D:
    ld   hl, $C210
    add  hl, bc
    ld   a, [hl]
.toc_03_7B12:
    sub  a, $10
    push af
    ld   a, [$FFD7]
    ld   c, a
    pop  af
    ld   hl, $786E
    add  hl, bc
    add  hl, de
    add  a, [hl]
    ld   [$FFDC], a
    and  %11110000
    ld   hl, $FFD8
    or   [hl]
    ld   c, a
    ld   hl, $D711
    ld   a, h
    add  hl, bc
    ld   h, a
    pop  bc
    ld   a, [hl]
    ld   [hObjectUnderEntity], a
    cp   $20
    jp   z, .else_03_7C7A

    push de
    ld   e, a
    ld   a, [$DBA5]
    ld   d, a
    call toc_01_29E8
    pop  de
    ld   [$FFDA], a
    ifEq [$FFEB], $CC, .else_03_7B4D

    cp   $99
    jr   nz, .else_03_7B5C

.else_03_7B4D:
    ld   a, [$FFDA]
    cp   $05
    jp   z, .else_03_7CA6

    cp   $07
    jp   z, .else_03_7CA6

    jp   .else_03_7C74

.else_03_7B5C:
    _ifNotZero [$FFDA], .else_03_7CA6

    cp   $0B
    jr   z, .else_03_7B6E

    cp   $50
    jr   z, .else_03_7B6E

    cp   $51
    jr   nz, .else_03_7B8A

.else_03_7B6E:
    ld   hl, $C310
    add  hl, bc
    ld   a, [hl]
    and  a
    jp   nz, .else_03_7CA6

    ld   hl, $C410
    add  hl, bc
    ld   a, [hl]
    and  a
    jp   z, .else_03_7C74

    ld   a, [$FFEB]
    cp   $59
    jp   z, .else_03_7C74

    jp   .else_03_7CA6

.else_03_7B8A:
    cp   $7C
    jp   c, .else_03_7BE3

    cp   $90
    jp   nc, .else_03_7BE3

    cp   $80
    ld   a, [$FFEB]
    jr   c, .else_03_7BA6

    cp   $A8
    jp   z, .else_03_7CA6

    cp   $02
    jp   z, .else_03_7CA6

    jr   .toc_03_7BBA

.else_03_7BA6:
    cp   $16
    jp   z, .else_03_7C99

    cp   $17
    jp   z, .else_03_7C99

    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %10000000
    jp   nz, .else_03_7C99

.toc_03_7BBA:
    push de
    ld   a, [$FFDA]
    sub  a, $7C
    sla  a
    sla  a
    ld   e, a
    ld   d, $00
    ld   hl, $7A84
    add  hl, de
    ld   a, [$FFDB]
    rra
    rra
    rra
    and  %00000001
    ld   e, a
    ld   a, [$FFDC]
    rra
    rra
    and  %00000010
    or   e
    ld   e, a
    ld   d, $00
    add  hl, de
    ld   a, [hl]
    pop  de
    and  a
    jp   z, .else_03_7CA6

.else_03_7BE3:
    ifLt [$FFDA], $D0, .else_03_7C2A

    cp   $D4
    jr   nc, .else_03_7C2A

    sub  a, $D0
    ld   hl, $C5D0
    add  hl, bc
    cp   [hl]
    jr   z, .else_03_7C19

    ifEq [$FFEB], $A8, .else_03_7C74

    ld   hl, $C4F0
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .else_03_7C74

    ld   a, [hFrameCounter]
    and  %00000011
    jr   z, .else_03_7C27

    _ifZero [$DBA5], .else_03_7C16

    ld   a, [hFrameCounter]
    and  %00000001
    jr   z, .else_03_7C27

.else_03_7C16:
    dec  [hl]
    jr   .else_03_7C27

.else_03_7C19:
    ld   hl, $C310
    add  hl, bc
    ld   a, [hl]
    and  a
    jp   z, .else_03_7C74

    ld   hl, $C4F0
    add  hl, bc
    inc  [hl]
.else_03_7C27:
    jp   .else_03_7CA6

.else_03_7C2A:
    cp   $FF
    jr   z, .else_03_7C99

    cp   $A0
    jr   nc, .else_03_7CA6

    cp   $10
    jr   nc, .else_03_7C74

    cp   $01
    jr   z, .else_03_7C90

    cp   $03
    jr   z, .else_03_7C90

    cp   $04
    jr   nz, .else_03_7CA6

    ld   a, [$FFEB]
    cp   $A8
    jp   z, .else_03_7CA6

    cp   $02
    jp   z, .else_03_7CA6

    cp   $03
    jr   nz, .else_03_7C59

    ifZero [$D6F9], .else_03_7CA6

.else_03_7C59:
    ifLt [hObjectUnderEntity], 219, .else_03_7C99

    cp   221
    jr   nc, .else_03_7C99

    push de
    sub  a, 219
    ld   e, a
    ld   d, $00
    ld   hl, $7CA8
    add  hl, de
    pop  de
    ld   a, [$D6FB]
    xor  [hl]
    jr   z, .else_03_7CA6

.else_03_7C74:
    ifNe [$FFDA], $60, .else_03_7C90

.else_03_7C7A:
    ifNe [$FFEB], $03, .else_03_7C90

    call toc_01_0891
    cp   $26
    jr   c, .else_03_7C8A

    call toc_01_3F7A.else_01_3FB7
.else_03_7C8A:
    ld   hl, $C290
    add  hl, bc
    ld   [hl], $01
.else_03_7C90:
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %00000001
    jr   nz, .else_03_7CA6

.else_03_7C99:
    ld   hl, $787E
    add  hl, de
    ld   a, [hl]
    ld   hl, $C2A0
    add  hl, bc
    or   [hl]
    ld   [hl], a
    and  a
    ret


.else_03_7CA6:
    scf
    ret


    db   $00, $02, $11, $00, $00, $C5, $21, $00
    db   $C2, $09, $7E, $E0, $DB, $E6, $F0, $E0
    db   $CE, $CB, $37, $21, $10, $C2, $09, $4F
    db   $7E, $D6, $08, $E0, $DC, $E6, $F0, $E0
    db   $CD, $B1, $4F, $E0, $E9, $06, $00, $21
    db   $11, $D7, $7C, $09, $67, $C1, $7E, $E0
    db   $AF, $FE, $AC, $CA, $D5, $7D, $FE, $AB
    db   $20, $5B, $F0, $EB, $FE, $04, $20, $55
    db   $FA, $A5, $DB, $A7, $28, $4F, $E5, $3E
    db   $12, $E0, $F4, $3E, $08, $CD, $F8, $64
    db   $38, $42, $E1, $36, $AC, $C5, $D5, $C1
    db   $54, $5D, $21, $B0, $C2, $09, $72, $21
    db   $C0, $C2, $09, $73, $F0, $CE, $21, $00
    db   $C2, $09, $77, $F0, $CD, $21, $10, $C2
    db   $09, $77, $21, $90, $C2, $09, $36, $01
    db   $CD, $87, $08, $36, $80, $C1, $21, $A2
    db   $C1, $34, $FA, $CD, $C3, $A7, $28, $05
    db   $D6, $04, $EA, $CD, $C3, $11, $BD, $69
    db   $D5, $C3, $7A, $52, $E1, $7E, $5F, $FA
    db   $A5, $DB, $57, $CD, $E8, $29, $E0, $D8
    db   $A7, $CA, $D5, $7D, $E0, $DA, $FE, $FF
    db   $CA, $D7, $7D, $FE, $D0, $38, $3B, $FE
    db   $D4, $30, $37, $D6, $D0, $21, $D0, $C5
    db   $09, $BE, $28, $1E, $21, $F0, $C4, $09
    db   $7E, $A7, $28, $49, $F0, $E7, $E6, $03
    db   $28, $63, $FA, $A5, $DB, $A7, $20, $06
    db   $F0, $E7, $E6, $01, $28, $57, $35, $C3
    db   $D5, $7D, $21, $10, $C3, $09, $7E, $A7
    db   $28, $2B, $21, $F0, $C4, $09, $34, $C3
    db   $D5, $7D, $FE, $7C, $DA, $9F, $7D, $FE
    db   $90, $D2, $9F, $7D, $C3, $D5, $7D, $F0
    db   $DA, $FE, $A0, $30, $30, $FE, $50, $28
    db   $2C, $FE, $51, $28, $28, $FE, $10, $30
    db   $04, $FE, $01, $20, $20, $21, $A0, $C2
    db   $09, $36, $01, $F0, $EB, $FE, $01, $20
    db   $04, $CD, $91, $08, $C8, $21, $00, $C2
    db   $09, $F0, $EE, $77, $21, $10, $C2, $09
    db   $F0, $EF, $77, $37, $C9, $A7, $C9, $F0
    db   $EB, $FE, $01, $28, $D8, $C3, $B7, $3F

toc_03_7DE0:
    push bc
    ld   hl, $C200
    add  hl, bc
    ld   a, [hl]
    sub  a, $01
    ld   [$FFDB], a
    and  %11110000
    ld   [hSwordIntersectedAreaX], a
    swap a
    ld   hl, $C210
    add  hl, bc
    ld   c, a
    ld   a, [hl]
    sub  a, $07
    ld   [$FFDC], a
    and  %11110000
    ld   [hSwordIntersectedAreaY], a
    or   c
    ld   c, a
    ld   b, $00
    ld   hl, $D711
    ld   a, h
    add  hl, bc
    ld   h, a
    pop  bc
    ld   a, [hl]
    ld   [hObjectUnderEntity], a
    ld   e, a
    ld   a, [$DBA5]
    ld   d, a
    call toc_01_29E8
    ld   [$FFDA], a
    ret


toc_03_7E17:
    ld   [$FFD8], a
    and  a
    jp   z, .else_03_7E95

    call toc_03_7EBB
    dec  e
    dec  e
    ld   a, e
    ld   [$FFD9], a
    ld   a, d
    bit  7, a
    jr   z, .else_03_7E2C

    cpl
    inc  a
.else_03_7E2C:
    ld   [$FFE3], a
    call toc_03_7EAB
    ld   a, e
    ld   [$FFDA], a
    ld   a, d
    bit  7, a
    jr   z, .else_03_7E3B

    cpl
    inc  a
.else_03_7E3B:
    ld   [$FFE4], a
    ld   e, $00
    ld   hl, $FFE3
    ld   a, [$FFE4]
    cp   [hl]
    jr   nc, .else_03_7E50

    inc  e
    push af
    copyFromTo [$FFE3], [$FFE4]
    pop  af
    ld   [$FFE3], a
.else_03_7E50:
    clear [$FFE2]
    ld   [$FFD7], a
    ld   a, [$FFD8]
    ld   d, a
.loop_03_7E58:
    ld   a, [$FFE2]
    ld   hl, $FFE3
    add  a, [hl]
    jr   c, .else_03_7E66

    ld   hl, $FFE4
    cp   [hl]
    jr   c, .else_03_7E6B

.else_03_7E66:
    sub  a, [hl]
    incAddr $FFD7
.else_03_7E6B:
    ld   [$FFE2], a
    dec  d
    jr   nz, .loop_03_7E58

    ld   a, e
    and  a
    jr   z, .else_03_7E7E

    ld   a, [$FFD7]
    push af
    copyFromTo [$FFD8], [$FFD7]
    pop  af
    ld   [$FFD8], a
.else_03_7E7E:
    ld   a, [$FFD9]
    and  a
    ld   a, [$FFD7]
    jr   nz, .else_03_7E89

    cpl
    inc  a
    ld   [$FFD7], a
.else_03_7E89:
    ld   a, [$FFDA]
    and  a
    ld   a, [$FFD8]
    jr   z, .return_03_7E94

    cpl
    inc  a
    ld   [$FFD8], a
.return_03_7E94:
    ret


.else_03_7E95:
    clear [$FFD7]
    ret


toc_03_7E99:
    call toc_03_7E17
    ld   a, [$FFD7]
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
    ld   a, [$FFD8]
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    ret


toc_03_7EAB:
    ld   e, $00
    ld   a, [hLinkPositionX]
    ld   hl, $C200
    add  hl, bc
    sub  a, [hl]
    bit  7, a
    jr   z, .else_03_7EB9

    inc  e
.else_03_7EB9:
    ld   d, a
    ret


toc_03_7EBB:
    ld   e, $02
    ld   a, [hLinkPositionY]
    ld   hl, $C210
    add  hl, bc
    sub  a, [hl]
    ld   hl, $C310
    add  hl, bc
    add  a, [hl]
    bit  7, a
    jr   nz, .else_03_7ECE

    inc  e
.else_03_7ECE:
    ld   d, a
    ret


toc_03_7ED0:
    call toc_03_7EAB
    ld   a, e
    ld   [$FFD7], a
    ld   a, d
    bit  7, a
    jr   z, .else_03_7EDD

    cpl
    inc  a
.else_03_7EDD:
    push af
    call toc_03_7EBB
    ld   a, e
    ld   [$FFD8], a
    ld   a, d
    bit  7, a
    jr   z, .else_03_7EEB

    cpl
    inc  a
.else_03_7EEB:
    pop  de
    cp   d
    jr   nc, .else_03_7EF3

    ld   a, [$FFD7]
    jr   .toc_03_7EF5

.else_03_7EF3:
    ld   a, [$FFD8]
.toc_03_7EF5:
    ld   e, a
    ret


toc_03_7EF7:
    call toc_03_7F04
    push bc
    ld   a, c
    add  a, $10
    ld   c, a
    call toc_03_7F04
    pop  bc
    ret


toc_03_7F04:
    ld   hl, $C240
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .return_03_7F2F

    push af
    swap a
    and  %11110000
    ld   hl, $C260
    add  hl, bc
    add  a, [hl]
    ld   [hl], a
    rl   d
    ld   hl, $C200
.toc_03_7F1C:
    add  hl, bc
    pop  af
    ld   e, $00
    bit  7, a
    jr   z, .else_03_7F26

    ld   e, $F0
.else_03_7F26:
    swap a
    and  %00001111
    or   e
    rr   d
    adc  [hl]
    ld   [hl], a
.return_03_7F2F:
    ret


toc_03_7F30:
    ld   hl, $C320
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, toc_03_7F04.return_03_7F2F

    push af
    swap a
    and  %11110000
    ld   hl, $C330
    add  hl, bc
    add  a, [hl]
    ld   [hl], a
    rl   d
    ld   hl, $C310
    jr   toc_03_7F04.toc_03_7F1C

toc_03_7F4A:
    ifNe [$FFEA], $05, .else_03_7F6A

.toc_03_7F50:
    ifEq [wGameMode], GAMEMODE_WORLD_MAP, .else_03_7F6A

    ld   a, [wDialogState]
    ld   hl, $C1A8
    or   [hl]
    ld   hl, $C14F
    or   [hl]
    jr   nz, .else_03_7F6A

    ifNotZero [$C124], .return_03_7F6B

.else_03_7F6A:
    pop  af
.return_03_7F6B:
    ret


toc_03_7F6C:
    ld   hl, $C410
    add  hl, bc
    ld   a, [hl]
    and  a
    jr   z, .return_03_7FB8

    dec  a
    ld   [hl], a
    call toc_01_3EB8
    ld   hl, $C240
    add  hl, bc
    ld   a, [hl]
    push af
    ld   hl, $C250
    add  hl, bc
    ld   a, [hl]
    push af
    ld   hl, $C3F0
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C240
    add  hl, bc
    ld   [hl], a
    ld   hl, $C400
    add  hl, bc
    ld   a, [hl]
    ld   hl, $C250
    add  hl, bc
    ld   [hl], a
    call toc_03_7EF7
    ld   hl, $C430
    add  hl, bc
    ld   a, [hl]
    and  %00100000
    jr   nz, .else_03_7FA8

    call toc_03_7892
.else_03_7FA8:
    ld   hl, $C250
    add  hl, bc
    pop  af
    ld   [hl], a
    ld   hl, $C240
    add  hl, bc
    pop  af
    ld   [hl], a
    pop  af
    call toc_01_3ED9
.return_03_7FB8:
    ret


    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF, $FF
    db   $FF, $FF, $FF, $FF, $FF, $FF, $FF
